{
  "$defs": {
    "AgentConfig": {
      "additionalProperties": false,
      "description": "Configuration for a single agent in the system.\n\nDefines an agent's complete configuration including its model, environment,\nand behavior settings. Each agent can have its own:\n- Language model configuration\n- Environment setup (tools and resources)\n- Response type definitions\n- System prompts and default user prompts\n\nThe configuration can be loaded from YAML or created programmatically.",
      "properties": {
        "name": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Name of the Agent / Team",
          "title": "Name"
        },
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Optional description of the agent / team.",
          "title": "Description"
        },
        "triggers": {
          "description": "Event sources that activate this agent / team",
          "items": {
            "discriminator": {
              "mapping": {
                "email": "#/$defs/EmailConfig",
                "file": "#/$defs/FileWatchConfig",
                "time": "#/$defs/TimeEventConfig",
                "webhook": "#/$defs/WebhookConfig"
              },
              "propertyName": "type"
            },
            "oneOf": [
              {
                "$ref": "#/$defs/FileWatchConfig"
              },
              {
                "$ref": "#/$defs/WebhookConfig"
              },
              {
                "$ref": "#/$defs/EmailConfig"
              },
              {
                "$ref": "#/$defs/TimeEventConfig"
              }
            ]
          },
          "title": "Triggers",
          "type": "array"
        },
        "connections": {
          "description": "Targets to forward results to.",
          "items": {
            "discriminator": {
              "mapping": {
                "callable": "#/$defs/CallableConnectionConfig",
                "file": "#/$defs/FileConnectionConfig",
                "node": "#/$defs/NodeConnectionConfig"
              },
              "propertyName": "type"
            },
            "oneOf": [
              {
                "$ref": "#/$defs/NodeConnectionConfig"
              },
              {
                "$ref": "#/$defs/FileConnectionConfig"
              },
              {
                "$ref": "#/$defs/CallableConnectionConfig"
              }
            ]
          },
          "title": "Connections",
          "type": "array"
        },
        "mcp_servers": {
          "description": "List of MCP server configurations:\n- str entries are converted to StdioMCPServerConfig\n- MCPServerConfig for full server configuration",
          "items": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "discriminator": {
                  "mapping": {
                    "sse": "#/$defs/SSEMCPServerConfig",
                    "stdio": "#/$defs/StdioMCPServerConfig",
                    "streamable-http": "#/$defs/StreamableHTTPMCPServerConfig"
                  },
                  "propertyName": "type"
                },
                "oneOf": [
                  {
                    "$ref": "#/$defs/StdioMCPServerConfig"
                  },
                  {
                    "$ref": "#/$defs/SSEMCPServerConfig"
                  },
                  {
                    "$ref": "#/$defs/StreamableHTTPMCPServerConfig"
                  }
                ]
              }
            ]
          },
          "title": "Mcp Servers",
          "type": "array"
        },
        "input_provider": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Provider for human-input-handling.",
          "title": "Input Provider"
        },
        "inherits": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Name of agent config to inherit from",
          "title": "Inherits"
        },
        "model": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "discriminator": {
                "mapping": {
                  "augmented": "#/$defs/AugmentedModelConfig",
                  "delegation": "#/$defs/DelegationModelConfig",
                  "fallback": "#/$defs/FallbackModelConfig",
                  "function": "#/$defs/FunctionModelConfig",
                  "import": "#/$defs/ImportModelConfig",
                  "input": "#/$defs/InputModelConfig",
                  "remote-input": "#/$defs/RemoteInputConfig",
                  "remote-proxy": "#/$defs/RemoteProxyConfig",
                  "string": "#/$defs/StringModelConfig",
                  "test": "#/$defs/TestModelConfig",
                  "user-select": "#/$defs/UserSelectModelConfig"
                },
                "propertyName": "type"
              },
              "oneOf": [
                {
                  "$ref": "#/$defs/AugmentedModelConfig"
                },
                {
                  "$ref": "#/$defs/DelegationModelConfig"
                },
                {
                  "$ref": "#/$defs/FallbackModelConfig"
                },
                {
                  "$ref": "#/$defs/FunctionModelConfig"
                },
                {
                  "$ref": "#/$defs/ImportModelConfig"
                },
                {
                  "$ref": "#/$defs/InputModelConfig"
                },
                {
                  "$ref": "#/$defs/RemoteInputConfig"
                },
                {
                  "$ref": "#/$defs/RemoteProxyConfig"
                },
                {
                  "$ref": "#/$defs/StringModelConfig"
                },
                {
                  "$ref": "#/$defs/TestModelConfig"
                },
                {
                  "$ref": "#/$defs/UserSelectModelConfig"
                }
              ]
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "The model to use for this agent. Can be either a simple model name\nstring (e.g. 'openai:gpt-5') or a structured model definition.",
          "title": "Model"
        },
        "tools": {
          "description": "A list of tools to register with this agent.",
          "items": {
            "anyOf": [
              {
                "discriminator": {
                  "mapping": {
                    "crewai": "#/$defs/CrewAIToolConfig",
                    "import": "#/$defs/ImportToolConfig",
                    "langchain": "#/$defs/LangChainToolConfig"
                  },
                  "propertyName": "type"
                },
                "oneOf": [
                  {
                    "$ref": "#/$defs/ImportToolConfig"
                  },
                  {
                    "$ref": "#/$defs/CrewAIToolConfig"
                  },
                  {
                    "$ref": "#/$defs/LangChainToolConfig"
                  }
                ]
              },
              {
                "type": "string"
              }
            ]
          },
          "title": "Tools",
          "type": "array"
        },
        "toolsets": {
          "description": "Toolset configurations for extensible tool collections.",
          "items": {
            "discriminator": {
              "mapping": {
                "agent_management": "#/$defs/AgentManagementToolsetConfig",
                "code": "#/$defs/CodeToolsetConfig",
                "code_execution": "#/$defs/CodeExecutionToolsetConfig",
                "code_mode": "#/$defs/CodeModeToolsetConfig",
                "composio": "#/$defs/ComposioToolSetConfig",
                "custom": "#/$defs/CustomToolsetConfig",
                "entry_points": "#/$defs/EntryPointToolsetConfig",
                "file_access": "#/$defs/FileAccessToolsetConfig",
                "fsspec": "#/$defs/FSSpecToolsetConfig",
                "history": "#/$defs/HistoryToolsetConfig",
                "integrations": "#/$defs/IntegrationToolsetConfig",
                "openapi": "#/$defs/OpenAPIToolsetConfig",
                "process_management": "#/$defs/ProcessManagementToolsetConfig",
                "remote_code_mode": "#/$defs/RemoteCodeModeToolsetConfig",
                "tool_management": "#/$defs/ToolManagementToolsetConfig",
                "upsonic": "#/$defs/UpsonicToolSetConfig",
                "user_interaction": "#/$defs/UserInteractionToolsetConfig",
                "vfs": "#/$defs/VFSToolsetConfig"
              },
              "propertyName": "type"
            },
            "oneOf": [
              {
                "$ref": "#/$defs/OpenAPIToolsetConfig"
              },
              {
                "$ref": "#/$defs/EntryPointToolsetConfig"
              },
              {
                "$ref": "#/$defs/ComposioToolSetConfig"
              },
              {
                "$ref": "#/$defs/UpsonicToolSetConfig"
              },
              {
                "$ref": "#/$defs/AgentManagementToolsetConfig"
              },
              {
                "$ref": "#/$defs/FileAccessToolsetConfig"
              },
              {
                "$ref": "#/$defs/CodeExecutionToolsetConfig"
              },
              {
                "$ref": "#/$defs/ProcessManagementToolsetConfig"
              },
              {
                "$ref": "#/$defs/ToolManagementToolsetConfig"
              },
              {
                "$ref": "#/$defs/UserInteractionToolsetConfig"
              },
              {
                "$ref": "#/$defs/HistoryToolsetConfig"
              },
              {
                "$ref": "#/$defs/IntegrationToolsetConfig"
              },
              {
                "$ref": "#/$defs/CodeToolsetConfig"
              },
              {
                "$ref": "#/$defs/FSSpecToolsetConfig"
              },
              {
                "$ref": "#/$defs/VFSToolsetConfig"
              },
              {
                "$ref": "#/$defs/CodeModeToolsetConfig"
              },
              {
                "$ref": "#/$defs/RemoteCodeModeToolsetConfig"
              },
              {
                "$ref": "#/$defs/CustomToolsetConfig"
              }
            ]
          },
          "title": "Toolsets",
          "type": "array"
        },
        "session": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "$ref": "#/$defs/SessionQuery"
            },
            {
              "$ref": "#/$defs/MemoryConfig"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Session configuration for conversation recovery.",
          "title": "Session"
        },
        "output_type": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "$ref": "#/$defs/StructuredResponseConfig"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Name of the response definition to use",
          "title": "Output Type"
        },
        "retries": {
          "default": 1,
          "description": "Number of retries for failed operations (maps to pydantic-ai's retries)",
          "title": "Retries",
          "type": "integer"
        },
        "result_tool_name": {
          "default": "final_result",
          "description": "Name of the tool used for structured responses",
          "title": "Result Tool Name",
          "type": "string"
        },
        "result_tool_description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Custom description for the result tool",
          "title": "Result Tool Description"
        },
        "output_retries": {
          "anyOf": [
            {
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Max retries for result validation",
          "title": "Output Retries"
        },
        "end_strategy": {
          "default": "early",
          "description": "The strategy for handling multiple tool calls when a final result is found",
          "enum": [
            "early",
            "exhaustive"
          ],
          "title": "End Strategy",
          "type": "string"
        },
        "avatar": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "URL or path to agent's avatar image",
          "title": "Avatar"
        },
        "system_prompts": {
          "description": "System prompts for the agent. Can be strings or structured prompt configs.",
          "items": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "discriminator": {
                  "mapping": {
                    "file": "#/$defs/FilePromptConfig",
                    "function": "#/$defs/FunctionPromptConfig",
                    "library": "#/$defs/LibraryPromptConfig",
                    "static": "#/$defs/StaticPromptConfig"
                  },
                  "propertyName": "type"
                },
                "oneOf": [
                  {
                    "$ref": "#/$defs/StaticPromptConfig"
                  },
                  {
                    "$ref": "#/$defs/FilePromptConfig"
                  },
                  {
                    "$ref": "#/$defs/LibraryPromptConfig"
                  },
                  {
                    "$ref": "#/$defs/FunctionPromptConfig"
                  }
                ]
              }
            ]
          },
          "title": "System Prompts",
          "type": "array"
        },
        "config_file_path": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Config file path for resolving environment.",
          "title": "Config File Path"
        },
        "knowledge": {
          "anyOf": [
            {
              "$ref": "#/$defs/Knowledge"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Knowledge sources for this agent."
        },
        "workers": {
          "description": "Worker agents which will be available as tools.",
          "items": {
            "discriminator": {
              "mapping": {
                "agent": "#/$defs/AgentWorkerConfig",
                "team": "#/$defs/TeamWorkerConfig"
              },
              "propertyName": "type"
            },
            "oneOf": [
              {
                "$ref": "#/$defs/TeamWorkerConfig"
              },
              {
                "$ref": "#/$defs/AgentWorkerConfig"
              }
            ]
          },
          "title": "Workers",
          "type": "array"
        },
        "requires_tool_confirmation": {
          "default": "per_tool",
          "description": "How to handle tool confirmation:\n- \"always\": Always require confirmation for all tools\n- \"never\": Never require confirmation (ignore tool settings)\n- \"per_tool\": Use individual tool settings",
          "enum": [
            "always",
            "never",
            "per_tool"
          ],
          "title": "Requires Tool Confirmation",
          "type": "string"
        },
        "debug": {
          "default": false,
          "description": "Enable debug output for this agent.",
          "title": "Debug",
          "type": "boolean"
        },
        "usage_limits": {
          "anyOf": [
            {
              "$ref": "#/$defs/UsageLimits"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Usage limits for this agent."
        }
      },
      "title": "AgentConfig",
      "type": "object"
    },
    "AgentManagementToolsetConfig": {
      "additionalProperties": false,
      "description": "Configuration for agent management toolset.",
      "properties": {
        "namespace": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Optional namespace prefix for tool names",
          "title": "Namespace"
        },
        "type": {
          "const": "agent_management",
          "default": "agent_management",
          "description": "Agent management toolset.",
          "title": "Type",
          "type": "string"
        }
      },
      "title": "AgentManagementToolsetConfig",
      "type": "object"
    },
    "AgentOpsObservabilityConfig": {
      "additionalProperties": false,
      "description": "Configuration for AgentOps endpoint.",
      "properties": {
        "type": {
          "const": "agentops",
          "default": "agentops",
          "title": "Type",
          "type": "string"
        },
        "enabled": {
          "default": true,
          "title": "Enabled",
          "type": "boolean"
        },
        "service_name": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Service Name"
        },
        "environment": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Environment"
        },
        "protocol": {
          "default": "http/protobuf",
          "enum": [
            "http/protobuf",
            "grpc",
            "http/json"
          ],
          "title": "Protocol",
          "type": "string"
        },
        "api_key": {
          "anyOf": [
            {
              "format": "password",
              "type": "string",
              "writeOnly": true
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Api Key"
        }
      },
      "title": "AgentOpsObservabilityConfig",
      "type": "object"
    },
    "AgentWorkerConfig": {
      "additionalProperties": false,
      "description": "Configuration for agent workers.\n\nAgent workers provide advanced features like history management and\ncontext sharing between agents.",
      "properties": {
        "name": {
          "description": "Name of the node to use as a worker.",
          "title": "Name",
          "type": "string"
        },
        "type": {
          "const": "agent",
          "default": "agent",
          "description": "Agent worker configuration.",
          "title": "Type",
          "type": "string"
        },
        "reset_history_on_run": {
          "default": true,
          "description": "Whether to clear worker's conversation history before each run.\nTrue (default): Fresh conversation each time\nFalse: Maintain conversation context between runs",
          "title": "Reset History On Run",
          "type": "boolean"
        },
        "pass_message_history": {
          "default": false,
          "description": "Whether to pass parent agent's message history to worker.\nTrue: Worker sees parent's conversation context\nFalse (default): Worker only sees current request",
          "title": "Pass Message History",
          "type": "boolean"
        }
      },
      "required": [
        "name"
      ],
      "title": "AgentWorkerConfig",
      "type": "object"
    },
    "AndCondition": {
      "additionalProperties": false,
      "description": "Require all conditions to be met.",
      "properties": {
        "type": {
          "const": "and",
          "default": "and",
          "description": "Condition to AND-combine multiple conditions.",
          "title": "Type",
          "type": "string"
        },
        "name": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Optional name for the condition for referencing.",
          "title": "Name"
        },
        "conditions": {
          "description": "List of conditions to check.",
          "items": {
            "$ref": "#/$defs/ConnectionCondition"
          },
          "title": "Conditions",
          "type": "array"
        }
      },
      "required": [
        "conditions"
      ],
      "title": "AndCondition",
      "type": "object"
    },
    "ArizePhoenixObservabilityConfig": {
      "additionalProperties": false,
      "description": "Configuration for Arize Phoenix endpoint.",
      "properties": {
        "type": {
          "const": "arize",
          "default": "arize",
          "title": "Type",
          "type": "string"
        },
        "enabled": {
          "default": true,
          "title": "Enabled",
          "type": "boolean"
        },
        "service_name": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Service Name"
        },
        "environment": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Environment"
        },
        "protocol": {
          "default": "http/protobuf",
          "enum": [
            "http/protobuf",
            "grpc",
            "http/json"
          ],
          "title": "Protocol",
          "type": "string"
        },
        "api_key": {
          "anyOf": [
            {
              "format": "password",
              "type": "string",
              "writeOnly": true
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Api Key"
        },
        "space_key": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Space Key"
        },
        "model_id": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Model Id"
        }
      },
      "title": "ArizePhoenixObservabilityConfig",
      "type": "object"
    },
    "AugmentedModelConfig": {
      "additionalProperties": false,
      "description": "Configuration for model with pre/post prompt processing.",
      "properties": {
        "type": {
          "const": "augmented",
          "default": "augmented",
          "description": "Type identifier for augmented model.",
          "title": "Type",
          "type": "string"
        },
        "main_model": {
          "description": "The primary model identifier.",
          "title": "Main Model",
          "type": "string"
        },
        "pre_prompt": {
          "anyOf": [
            {
              "$ref": "#/$defs/PrePostPromptConfig"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Optional configuration for prompt preprocessing."
        },
        "post_prompt": {
          "anyOf": [
            {
              "$ref": "#/$defs/PrePostPromptConfig"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Optional configuration for prompt postprocessing."
        }
      },
      "required": [
        "main_model"
      ],
      "title": "AugmentedModelConfig",
      "type": "object"
    },
    "BaseModelConfig": {
      "additionalProperties": false,
      "description": "Base for model configurations.",
      "properties": {
        "type": {
          "description": "Type discriminator for model configs.",
          "title": "Type",
          "type": "string"
        }
      },
      "required": [
        "type"
      ],
      "title": "BaseModelConfig",
      "type": "object"
    },
    "BasePrompt": {
      "additionalProperties": false,
      "description": "Base class for all prompts.",
      "properties": {
        "name": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Technical identifier (automatically set from config key during registration).",
          "title": "Name"
        },
        "description": {
          "description": "Human-readable description of what this prompt does.",
          "title": "Description",
          "type": "string"
        },
        "title": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Title of the prompt.",
          "title": "Title"
        },
        "metadata": {
          "additionalProperties": true,
          "description": "Additional metadata for storing custom prompt information.",
          "title": "Metadata",
          "type": "object"
        }
      },
      "required": [
        "description"
      ],
      "title": "BasePrompt",
      "type": "object"
    },
    "BeamExecutionEnvironmentConfig": {
      "additionalProperties": false,
      "description": "Beam execution environment configuration.\n\nExecutes code in Beam cloud sandboxes for scalable, serverless execution environments.",
      "properties": {
        "type": {
          "const": "beam",
          "default": "beam",
          "title": "Type",
          "type": "string"
        },
        "dependencies": {
          "anyOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "List of packages to install (pip for Python, npm for JS/TS).",
          "title": "Dependencies"
        },
        "timeout": {
          "default": 60.0,
          "description": "Execution timeout in seconds.",
          "exclusiveMinimum": 0.0,
          "title": "Timeout",
          "type": "number"
        },
        "cpu": {
          "anyOf": [
            {
              "type": "number"
            },
            {
              "type": "string"
            }
          ],
          "default": 1.0,
          "description": "CPU cores allocated to the container.",
          "title": "Cpu"
        },
        "memory": {
          "anyOf": [
            {
              "type": "integer"
            },
            {
              "type": "string"
            }
          ],
          "default": 128,
          "description": "Memory allocated to the container in MiB.",
          "title": "Memory"
        },
        "keep_warm_seconds": {
          "default": 600,
          "description": "Seconds to keep sandbox alive, -1 for no timeout.",
          "title": "Keep Warm Seconds",
          "type": "integer"
        },
        "language": {
          "default": "python",
          "description": "Programming language to use.",
          "enum": [
            "python",
            "javascript",
            "typescript"
          ],
          "title": "Language",
          "type": "string"
        }
      },
      "title": "BeamExecutionEnvironmentConfig",
      "type": "object"
    },
    "BraintrustConfig": {
      "additionalProperties": false,
      "description": "Configuration for Braintrust prompt provider.",
      "properties": {
        "type": {
          "const": "braintrust",
          "default": "braintrust",
          "description": "Configuration for Braintrust prompt provider.",
          "title": "Type",
          "type": "string"
        },
        "api_key": {
          "anyOf": [
            {
              "format": "password",
              "type": "string",
              "writeOnly": true
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "API key for the Braintrust API.",
          "title": "Api Key"
        },
        "project": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Braintrust Project name.",
          "title": "Project"
        }
      },
      "title": "BraintrustConfig",
      "type": "object"
    },
    "CallableCommandConfig": {
      "additionalProperties": false,
      "description": "Callable command that references a Python function.",
      "properties": {
        "type": {
          "const": "callable",
          "default": "callable",
          "description": "Callable command configuration.",
          "title": "Type",
          "type": "string"
        },
        "name": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Command name (optional, can be inferred from key).",
          "title": "Name"
        },
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Optional description of what this command does.",
          "title": "Description"
        },
        "function": {
          "description": "Python function import path (e.g., 'my.package.module.function_name').",
          "title": "Function",
          "type": "string"
        }
      },
      "required": [
        "function"
      ],
      "title": "CallableCommandConfig",
      "type": "object"
    },
    "CallableCondition": {
      "additionalProperties": false,
      "description": "Custom predicate function.",
      "properties": {
        "type": {
          "const": "callable",
          "default": "callable",
          "description": "Condition based on an import path pointing to a predicate.",
          "title": "Type",
          "type": "string"
        },
        "name": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Optional name for the condition for referencing.",
          "title": "Name"
        },
        "predicate": {
          "description": "Function to evaluate condition:\nArgs:\n    message: Current message being processed\n    stats: Current connection statistics\nReturns:\n    Whether condition is met",
          "title": "Predicate",
          "type": "string"
        }
      },
      "required": [
        "predicate"
      ],
      "title": "CallableCondition",
      "type": "object"
    },
    "CallableConnectionConfig": {
      "additionalProperties": false,
      "description": "Forward messages to a callable.\n\nThe callable can be either sync or async and should have the signature:\ndef process_message(message: ChatMessage[Any], **kwargs) -> Any\n\nAny additional kwargs specified in the config will be passed to the callable.",
      "properties": {
        "type": {
          "const": "callable",
          "default": "callable",
          "description": "Connection to a callable imported from given import path.",
          "title": "Type",
          "type": "string"
        },
        "wait_for_completion": {
          "default": true,
          "description": "Whether to wait for the result before continuing.\n\nIf True, message processing will wait for the target to complete.\nIf False, message will be forwarded asynchronously.",
          "title": "Wait For Completion",
          "type": "boolean"
        },
        "queued": {
          "default": false,
          "description": "Whether messages should be queued for manual processing.",
          "title": "Queued",
          "type": "boolean"
        },
        "queue_strategy": {
          "default": "latest",
          "description": "How to process queued messages.",
          "enum": [
            "concat",
            "latest",
            "buffer"
          ],
          "title": "Queue Strategy",
          "type": "string"
        },
        "priority": {
          "default": 0,
          "description": "Priority of the task. Lower = higher priority.",
          "title": "Priority",
          "type": "integer"
        },
        "delay": {
          "anyOf": [
            {
              "format": "duration",
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Delay before processing.",
          "title": "Delay"
        },
        "filter_condition": {
          "anyOf": [
            {
              "discriminator": {
                "mapping": {
                  "and": "#/$defs/AndCondition",
                  "callable": "#/$defs/CallableCondition",
                  "cost_limit": "#/$defs/CostLimitCondition",
                  "jinja2": "#/$defs/Jinja2Condition",
                  "message_count": "#/$defs/MessageCountCondition",
                  "or": "#/$defs/OrCondition",
                  "time": "#/$defs/TimeCondition",
                  "token_threshold": "#/$defs/TokenThresholdCondition",
                  "word_match": "#/$defs/WordMatchCondition"
                },
                "propertyName": "type"
              },
              "oneOf": [
                {
                  "$ref": "#/$defs/WordMatchCondition"
                },
                {
                  "$ref": "#/$defs/MessageCountCondition"
                },
                {
                  "$ref": "#/$defs/TimeCondition"
                },
                {
                  "$ref": "#/$defs/TokenThresholdCondition"
                },
                {
                  "$ref": "#/$defs/CostLimitCondition"
                },
                {
                  "$ref": "#/$defs/CallableCondition"
                },
                {
                  "$ref": "#/$defs/Jinja2Condition"
                },
                {
                  "$ref": "#/$defs/AndCondition"
                },
                {
                  "$ref": "#/$defs/OrCondition"
                }
              ]
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "When to filter messages (using Talk.when()).",
          "title": "Filter Condition"
        },
        "stop_condition": {
          "anyOf": [
            {
              "discriminator": {
                "mapping": {
                  "and": "#/$defs/AndCondition",
                  "callable": "#/$defs/CallableCondition",
                  "cost_limit": "#/$defs/CostLimitCondition",
                  "jinja2": "#/$defs/Jinja2Condition",
                  "message_count": "#/$defs/MessageCountCondition",
                  "or": "#/$defs/OrCondition",
                  "time": "#/$defs/TimeCondition",
                  "token_threshold": "#/$defs/TokenThresholdCondition",
                  "word_match": "#/$defs/WordMatchCondition"
                },
                "propertyName": "type"
              },
              "oneOf": [
                {
                  "$ref": "#/$defs/WordMatchCondition"
                },
                {
                  "$ref": "#/$defs/MessageCountCondition"
                },
                {
                  "$ref": "#/$defs/TimeCondition"
                },
                {
                  "$ref": "#/$defs/TokenThresholdCondition"
                },
                {
                  "$ref": "#/$defs/CostLimitCondition"
                },
                {
                  "$ref": "#/$defs/CallableCondition"
                },
                {
                  "$ref": "#/$defs/Jinja2Condition"
                },
                {
                  "$ref": "#/$defs/AndCondition"
                },
                {
                  "$ref": "#/$defs/OrCondition"
                }
              ]
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "When to disconnect the connection.",
          "title": "Stop Condition"
        },
        "exit_condition": {
          "anyOf": [
            {
              "discriminator": {
                "mapping": {
                  "and": "#/$defs/AndCondition",
                  "callable": "#/$defs/CallableCondition",
                  "cost_limit": "#/$defs/CostLimitCondition",
                  "jinja2": "#/$defs/Jinja2Condition",
                  "message_count": "#/$defs/MessageCountCondition",
                  "or": "#/$defs/OrCondition",
                  "time": "#/$defs/TimeCondition",
                  "token_threshold": "#/$defs/TokenThresholdCondition",
                  "word_match": "#/$defs/WordMatchCondition"
                },
                "propertyName": "type"
              },
              "oneOf": [
                {
                  "$ref": "#/$defs/WordMatchCondition"
                },
                {
                  "$ref": "#/$defs/MessageCountCondition"
                },
                {
                  "$ref": "#/$defs/TimeCondition"
                },
                {
                  "$ref": "#/$defs/TokenThresholdCondition"
                },
                {
                  "$ref": "#/$defs/CostLimitCondition"
                },
                {
                  "$ref": "#/$defs/CallableCondition"
                },
                {
                  "$ref": "#/$defs/Jinja2Condition"
                },
                {
                  "$ref": "#/$defs/AndCondition"
                },
                {
                  "$ref": "#/$defs/OrCondition"
                }
              ]
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "When to exit the application (by raising SystemExit).",
          "title": "Exit Condition"
        },
        "transform": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Optional function to transform messages before forwarding.",
          "title": "Transform"
        },
        "callable": {
          "description": "Import path to the message processing function.",
          "title": "Callable",
          "type": "string"
        },
        "connection_type": {
          "const": "run",
          "default": "run",
          "description": "Connection type (fixed to \"run\")",
          "title": "Connection Type",
          "type": "string"
        },
        "kw_args": {
          "additionalProperties": true,
          "description": "Additional kwargs to pass to the callable.",
          "title": "Kw Args",
          "type": "object"
        }
      },
      "required": [
        "callable"
      ],
      "title": "CallableConnectionConfig",
      "type": "object"
    },
    "CodeExecutionToolsetConfig": {
      "additionalProperties": false,
      "description": "Configuration for code execution toolset.",
      "properties": {
        "namespace": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Optional namespace prefix for tool names",
          "title": "Namespace"
        },
        "type": {
          "const": "code_execution",
          "default": "code_execution",
          "description": "Code execution toolset.",
          "title": "Type",
          "type": "string"
        }
      },
      "title": "CodeExecutionToolsetConfig",
      "type": "object"
    },
    "CodeModeToolsetConfig": {
      "additionalProperties": false,
      "description": "Configuration for code mode tools.",
      "properties": {
        "namespace": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Optional namespace prefix for tool names",
          "title": "Namespace"
        },
        "type": {
          "const": "code_mode",
          "default": "code_mode",
          "description": "Code mode toolset.",
          "title": "Type",
          "type": "string"
        },
        "toolsets": {
          "description": "List of toolsets to expose as a codemode toolset.",
          "items": {
            "discriminator": {
              "mapping": {
                "agent_management": "#/$defs/AgentManagementToolsetConfig",
                "code": "#/$defs/CodeToolsetConfig",
                "code_execution": "#/$defs/CodeExecutionToolsetConfig",
                "code_mode": "#/$defs/CodeModeToolsetConfig",
                "composio": "#/$defs/ComposioToolSetConfig",
                "custom": "#/$defs/CustomToolsetConfig",
                "entry_points": "#/$defs/EntryPointToolsetConfig",
                "file_access": "#/$defs/FileAccessToolsetConfig",
                "fsspec": "#/$defs/FSSpecToolsetConfig",
                "history": "#/$defs/HistoryToolsetConfig",
                "integrations": "#/$defs/IntegrationToolsetConfig",
                "openapi": "#/$defs/OpenAPIToolsetConfig",
                "process_management": "#/$defs/ProcessManagementToolsetConfig",
                "remote_code_mode": "#/$defs/RemoteCodeModeToolsetConfig",
                "tool_management": "#/$defs/ToolManagementToolsetConfig",
                "upsonic": "#/$defs/UpsonicToolSetConfig",
                "user_interaction": "#/$defs/UserInteractionToolsetConfig",
                "vfs": "#/$defs/VFSToolsetConfig"
              },
              "propertyName": "type"
            },
            "oneOf": [
              {
                "$ref": "#/$defs/OpenAPIToolsetConfig"
              },
              {
                "$ref": "#/$defs/EntryPointToolsetConfig"
              },
              {
                "$ref": "#/$defs/ComposioToolSetConfig"
              },
              {
                "$ref": "#/$defs/UpsonicToolSetConfig"
              },
              {
                "$ref": "#/$defs/AgentManagementToolsetConfig"
              },
              {
                "$ref": "#/$defs/FileAccessToolsetConfig"
              },
              {
                "$ref": "#/$defs/CodeExecutionToolsetConfig"
              },
              {
                "$ref": "#/$defs/ProcessManagementToolsetConfig"
              },
              {
                "$ref": "#/$defs/ToolManagementToolsetConfig"
              },
              {
                "$ref": "#/$defs/UserInteractionToolsetConfig"
              },
              {
                "$ref": "#/$defs/HistoryToolsetConfig"
              },
              {
                "$ref": "#/$defs/IntegrationToolsetConfig"
              },
              {
                "$ref": "#/$defs/CodeToolsetConfig"
              },
              {
                "$ref": "#/$defs/FSSpecToolsetConfig"
              },
              {
                "$ref": "#/$defs/VFSToolsetConfig"
              },
              {
                "$ref": "#/$defs/CodeModeToolsetConfig"
              },
              {
                "$ref": "#/$defs/RemoteCodeModeToolsetConfig"
              },
              {
                "$ref": "#/$defs/CustomToolsetConfig"
              }
            ]
          },
          "title": "Toolsets",
          "type": "array"
        }
      },
      "required": [
        "toolsets"
      ],
      "title": "CodeModeToolsetConfig",
      "type": "object"
    },
    "CodeToolsetConfig": {
      "additionalProperties": false,
      "description": "Configuration for code toolset.",
      "properties": {
        "namespace": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Optional namespace prefix for tool names",
          "title": "Namespace"
        },
        "type": {
          "const": "code",
          "default": "code",
          "description": "Code toolset.",
          "title": "Type",
          "type": "string"
        }
      },
      "title": "CodeToolsetConfig",
      "type": "object"
    },
    "ComposioToolSetConfig": {
      "additionalProperties": false,
      "description": "Configuration for Composio toolsets.",
      "properties": {
        "namespace": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Optional namespace prefix for tool names",
          "title": "Namespace"
        },
        "type": {
          "const": "composio",
          "default": "composio",
          "description": "Composio Toolsets.",
          "title": "Type",
          "type": "string"
        },
        "api_key": {
          "anyOf": [
            {
              "format": "password",
              "type": "string",
              "writeOnly": true
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Composio API Key.",
          "title": "Api Key"
        },
        "user_id": {
          "default": "user@example.com",
          "description": "User ID for composio tools.",
          "format": "email",
          "title": "User Id",
          "type": "string"
        },
        "toolsets": {
          "description": "List of toolsets to load.",
          "items": {
            "type": "string"
          },
          "title": "Toolsets",
          "type": "array"
        }
      },
      "title": "ComposioToolSetConfig",
      "type": "object"
    },
    "ConnectionCondition": {
      "additionalProperties": false,
      "description": "Base class for connection control conditions.",
      "properties": {
        "type": {
          "description": "Discriminator for condition types.",
          "title": "Type",
          "type": "string"
        },
        "name": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Optional name for the condition for referencing.",
          "title": "Name"
        }
      },
      "required": [
        "type"
      ],
      "title": "ConnectionCondition",
      "type": "object"
    },
    "ConversionConfig": {
      "additionalProperties": false,
      "description": "Global conversion configuration.",
      "properties": {
        "providers": {
          "anyOf": [
            {
              "items": {
                "discriminator": {
                  "mapping": {
                    "google_speech": "#/$defs/GoogleSpeechConfig",
                    "local_whisper": "#/$defs/LocalWhisperConfig",
                    "markitdown": "#/$defs/MarkItDownConfig",
                    "plain": "#/$defs/PlainConverterConfig",
                    "whisper_api": "#/$defs/WhisperAPIConfig",
                    "youtube": "#/$defs/YouTubeConverterConfig"
                  },
                  "propertyName": "type"
                },
                "oneOf": [
                  {
                    "$ref": "#/$defs/MarkItDownConfig"
                  },
                  {
                    "$ref": "#/$defs/PlainConverterConfig"
                  },
                  {
                    "$ref": "#/$defs/YouTubeConverterConfig"
                  },
                  {
                    "$ref": "#/$defs/WhisperAPIConfig"
                  },
                  {
                    "$ref": "#/$defs/LocalWhisperConfig"
                  },
                  {
                    "$ref": "#/$defs/GoogleSpeechConfig"
                  }
                ]
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "List of configured converter providers.",
          "title": "Providers"
        },
        "default_provider": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Name of default provider for conversions.",
          "title": "Default Provider"
        },
        "max_size": {
          "anyOf": [
            {
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Global size limit for all converters.",
          "title": "Max Size"
        }
      },
      "title": "ConversionConfig",
      "type": "object"
    },
    "CostLimitCondition": {
      "additionalProperties": false,
      "description": "Disconnect when cost limit is reached.",
      "properties": {
        "type": {
          "const": "cost_limit",
          "default": "cost_limit",
          "description": "Cost-limit condition.",
          "title": "Type",
          "type": "string"
        },
        "name": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Optional name for the condition for referencing.",
          "title": "Name"
        },
        "max_cost": {
          "description": "Maximum cost in USD before triggering.",
          "exclusiveMinimum": 0.0,
          "title": "Max Cost",
          "type": "number"
        }
      },
      "required": [
        "max_cost"
      ],
      "title": "CostLimitCondition",
      "type": "object"
    },
    "CrewAIToolConfig": {
      "additionalProperties": false,
      "description": "Configuration for CrewAI-based tools.",
      "properties": {
        "type": {
          "const": "crewai",
          "default": "crewai",
          "description": "CrewAI tool configuration.",
          "title": "Type",
          "type": "string"
        },
        "name": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Optional override for the tool name.",
          "title": "Name"
        },
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Optional override for the tool description.",
          "title": "Description"
        },
        "enabled": {
          "default": true,
          "description": "Whether this tool is initially enabled.",
          "title": "Enabled",
          "type": "boolean"
        },
        "requires_confirmation": {
          "default": false,
          "description": "Whether tool execution needs confirmation.",
          "title": "Requires Confirmation",
          "type": "boolean"
        },
        "metadata": {
          "additionalProperties": {
            "type": "string"
          },
          "description": "Additional tool metadata.",
          "title": "Metadata",
          "type": "object"
        },
        "hints": {
          "anyOf": [
            {
              "$ref": "#/$defs/ToolHints"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Hints for tool execution."
        },
        "import_path": {
          "description": "Import path to CrewAI tool class.",
          "title": "Import Path",
          "type": "string"
        },
        "params": {
          "additionalProperties": true,
          "description": "Tool-specific parameters.",
          "title": "Params",
          "type": "object"
        }
      },
      "required": [
        "import_path"
      ],
      "title": "CrewAIToolConfig",
      "type": "object"
    },
    "CustomObservabilityConfig": {
      "additionalProperties": false,
      "description": "Configuration for custom OTEL endpoint.",
      "properties": {
        "type": {
          "const": "custom",
          "default": "custom",
          "title": "Type",
          "type": "string"
        },
        "enabled": {
          "default": true,
          "title": "Enabled",
          "type": "boolean"
        },
        "service_name": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Service Name"
        },
        "environment": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Environment"
        },
        "protocol": {
          "default": "http/protobuf",
          "enum": [
            "http/protobuf",
            "grpc",
            "http/json"
          ],
          "title": "Protocol",
          "type": "string"
        },
        "endpoint": {
          "title": "Endpoint",
          "type": "string"
        },
        "headers": {
          "additionalProperties": {
            "type": "string"
          },
          "title": "Headers",
          "type": "object"
        }
      },
      "required": [
        "endpoint"
      ],
      "title": "CustomObservabilityConfig",
      "type": "object"
    },
    "CustomToolsetConfig": {
      "additionalProperties": false,
      "description": "Configuration for custom toolsets.",
      "properties": {
        "namespace": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Optional namespace prefix for tool names",
          "title": "Namespace"
        },
        "type": {
          "const": "custom",
          "default": "custom",
          "description": "Custom toolset.",
          "title": "Type",
          "type": "string"
        },
        "import_path": {
          "description": "Dotted import path to the custom toolset implementation class.",
          "title": "Import Path",
          "type": "string"
        }
      },
      "required": [
        "import_path"
      ],
      "title": "CustomToolsetConfig",
      "type": "object"
    },
    "DaytonaExecutionEnvironmentConfig": {
      "additionalProperties": false,
      "description": "Daytona execution environment configuration.\n\nExecutes code in remote Daytona sandboxes for cloud-based development environments.",
      "properties": {
        "type": {
          "const": "daytona",
          "default": "daytona",
          "title": "Type",
          "type": "string"
        },
        "dependencies": {
          "anyOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "List of packages to install (pip for Python, npm for JS/TS).",
          "title": "Dependencies"
        },
        "timeout": {
          "default": 60.0,
          "description": "Execution timeout in seconds.",
          "exclusiveMinimum": 0.0,
          "title": "Timeout",
          "type": "number"
        },
        "api_url": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Daytona API URL (optional, uses env vars if not provided).",
          "title": "Api Url"
        },
        "api_key": {
          "anyOf": [
            {
              "format": "password",
              "type": "string",
              "writeOnly": true
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "API key for authentication.",
          "title": "Api Key"
        },
        "target": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Target configuration.",
          "title": "Target"
        },
        "image": {
          "default": "python:3.13-slim",
          "description": "Container image.",
          "title": "Image",
          "type": "string"
        },
        "keep_alive": {
          "default": false,
          "description": "Keep sandbox running after execution.",
          "title": "Keep Alive",
          "type": "boolean"
        }
      },
      "title": "DaytonaExecutionEnvironmentConfig",
      "type": "object"
    },
    "DelegationModelConfig": {
      "additionalProperties": false,
      "description": "Configuration for delegation-based model selection.",
      "properties": {
        "type": {
          "const": "delegation",
          "default": "delegation",
          "description": "Type identifier for delegation model.",
          "title": "Type",
          "type": "string"
        },
        "selector_model": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "$ref": "#/$defs/BaseModelConfig"
            }
          ],
          "description": "Model responsible for selecting which model to use.",
          "title": "Selector Model"
        },
        "models": {
          "description": "List of available models to choose from.",
          "items": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "$ref": "#/$defs/BaseModelConfig"
              }
            ]
          },
          "minItems": 1,
          "title": "Models",
          "type": "array"
        },
        "selection_prompt": {
          "description": "Prompt used to guide the selector model's decision.",
          "title": "Selection Prompt",
          "type": "string"
        },
        "model_descriptions": {
          "anyOf": [
            {
              "additionalProperties": {
                "type": "string"
              },
              "type": "object"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Optional descriptions of each model for selection purposes.",
          "title": "Model Descriptions"
        }
      },
      "required": [
        "selector_model",
        "models",
        "selection_prompt"
      ],
      "title": "DelegationModelConfig",
      "type": "object"
    },
    "DockerExecutionEnvironmentConfig": {
      "additionalProperties": false,
      "description": "Docker execution environment configuration.\n\nExecutes code in Docker containers for strong isolation and reproducible environments.",
      "properties": {
        "type": {
          "const": "docker",
          "default": "docker",
          "title": "Type",
          "type": "string"
        },
        "dependencies": {
          "anyOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "List of packages to install (pip for Python, npm for JS/TS).",
          "title": "Dependencies"
        },
        "timeout": {
          "default": 60.0,
          "description": "Execution timeout in seconds.",
          "exclusiveMinimum": 0.0,
          "title": "Timeout",
          "type": "number"
        },
        "image": {
          "default": "python:3.13-slim",
          "description": "Docker image to use.",
          "title": "Image",
          "type": "string"
        },
        "language": {
          "default": "python",
          "description": "Programming language to use.",
          "enum": [
            "python",
            "javascript",
            "typescript"
          ],
          "title": "Language",
          "type": "string"
        }
      },
      "title": "DockerExecutionEnvironmentConfig",
      "type": "object"
    },
    "DynamicPrompt": {
      "additionalProperties": false,
      "description": "Dynamic prompt loaded from callable.",
      "properties": {
        "name": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Technical identifier (automatically set from config key during registration).",
          "title": "Name"
        },
        "description": {
          "description": "Human-readable description of what this prompt does.",
          "title": "Description",
          "type": "string"
        },
        "title": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Title of the prompt.",
          "title": "Title"
        },
        "metadata": {
          "additionalProperties": true,
          "description": "Additional metadata for storing custom prompt information.",
          "title": "Metadata",
          "type": "object"
        },
        "import_path": {
          "description": "Dotted import path to the callable that generates the prompt.",
          "title": "Import Path",
          "type": "string"
        },
        "template": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Optional template string for formatting the callable's output.",
          "title": "Template"
        },
        "completions": {
          "anyOf": [
            {
              "additionalProperties": {
                "type": "string"
              },
              "type": "object"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Optional mapping of argument names to completion functions.",
          "title": "Completions"
        },
        "type": {
          "const": "function",
          "default": "function",
          "description": "Discriminator field identifying this as a function-based prompt.",
          "title": "Type",
          "type": "string"
        }
      },
      "required": [
        "description",
        "import_path"
      ],
      "title": "DynamicPrompt",
      "type": "object"
    },
    "E2bExecutionEnvironmentConfig": {
      "additionalProperties": false,
      "description": "E2B execution environment configuration.\n\nExecutes code in E2B sandboxes for secure, ephemeral execution environments.",
      "properties": {
        "type": {
          "const": "e2b",
          "default": "e2b",
          "title": "Type",
          "type": "string"
        },
        "dependencies": {
          "anyOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "List of packages to install (pip for Python, npm for JS/TS).",
          "title": "Dependencies"
        },
        "timeout": {
          "default": 60.0,
          "description": "Execution timeout in seconds.",
          "exclusiveMinimum": 0.0,
          "title": "Timeout",
          "type": "number"
        },
        "template": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "E2B template to use.",
          "title": "Template"
        },
        "keep_alive": {
          "default": false,
          "description": "Keep sandbox running after execution.",
          "title": "Keep Alive",
          "type": "boolean"
        },
        "language": {
          "default": "python",
          "description": "Programming language to use.",
          "enum": [
            "python",
            "javascript",
            "typescript"
          ],
          "title": "Language",
          "type": "string"
        }
      },
      "title": "E2bExecutionEnvironmentConfig",
      "type": "object"
    },
    "EmailConfig": {
      "additionalProperties": false,
      "description": "Email event source configuration.\n\nMonitors an email inbox for new messages and converts them to events.",
      "properties": {
        "type": {
          "const": "email",
          "default": "email",
          "description": "Email event.",
          "title": "Type",
          "type": "string"
        },
        "name": {
          "description": "Unique identifier for this event source.",
          "title": "Name",
          "type": "string"
        },
        "enabled": {
          "default": true,
          "description": "Whether this event source is active.",
          "title": "Enabled",
          "type": "boolean"
        },
        "template": {
          "default": "\n{%- if include_timestamp %}at {{ timestamp }}{% endif %}\nEvent from {{ source }}:\n{%- if include_metadata %}\nMetadata:\n{% for key, value in metadata.items() %}\n{{ key }}: {{ value }}\n{% endfor %}\n{% endif %}\n{{ content }}\n",
          "description": "Jinja2 template for formatting events.",
          "title": "Template",
          "type": "string"
        },
        "include_metadata": {
          "default": true,
          "description": "Control metadata visibility in template.",
          "title": "Include Metadata",
          "type": "boolean"
        },
        "include_timestamp": {
          "default": true,
          "description": "Control timestamp visibility in template.",
          "title": "Include Timestamp",
          "type": "boolean"
        },
        "host": {
          "description": "IMAP server hostname (e.g. 'imap.gmail.com')",
          "title": "Host",
          "type": "string"
        },
        "port": {
          "default": 993,
          "description": "Server port (defaults to 993 for IMAP SSL)",
          "maximum": 65535,
          "minimum": 1,
          "title": "Port",
          "type": "integer"
        },
        "username": {
          "description": "Email account username/address",
          "title": "Username",
          "type": "string"
        },
        "password": {
          "description": "Account password or app-specific password",
          "format": "password",
          "title": "Password",
          "type": "string",
          "writeOnly": true
        },
        "folder": {
          "default": "INBOX",
          "description": "Folder/mailbox to monitor",
          "title": "Folder",
          "type": "string"
        },
        "ssl": {
          "default": true,
          "description": "Whether to use SSL/TLS connection",
          "title": "Ssl",
          "type": "boolean"
        },
        "check_interval": {
          "default": 60,
          "description": "How often to check for new emails (in seconds)",
          "exclusiveMinimum": 0,
          "title": "Check Interval",
          "type": "integer"
        },
        "mark_seen": {
          "default": true,
          "description": "Whether to mark processed emails as seen",
          "title": "Mark Seen",
          "type": "boolean"
        },
        "filters": {
          "additionalProperties": {
            "type": "string"
          },
          "description": "Filtering rules for emails (subject, from, etc)",
          "title": "Filters",
          "type": "object"
        },
        "max_size": {
          "anyOf": [
            {
              "minimum": 0,
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Size limit for processed emails in bytes",
          "title": "Max Size"
        }
      },
      "required": [
        "name",
        "host",
        "username",
        "password"
      ],
      "title": "EmailConfig",
      "type": "object"
    },
    "EntryPointToolsetConfig": {
      "additionalProperties": false,
      "description": "Configuration for entry point toolsets.",
      "properties": {
        "namespace": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Optional namespace prefix for tool names",
          "title": "Namespace"
        },
        "type": {
          "const": "entry_points",
          "default": "entry_points",
          "description": "Entry point toolset.",
          "title": "Type",
          "type": "string"
        },
        "module": {
          "description": "Python module path to load tools from via entry points.",
          "title": "Module",
          "type": "string"
        }
      },
      "required": [
        "module"
      ],
      "title": "EntryPointToolsetConfig",
      "type": "object"
    },
    "FSSpecToolsetConfig": {
      "additionalProperties": false,
      "description": "Configuration for FSSpec filesystem toolsets.",
      "properties": {
        "namespace": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Optional namespace prefix for tool names",
          "title": "Namespace"
        },
        "type": {
          "const": "fsspec",
          "default": "fsspec",
          "description": "FSSpec filesystem toolset.",
          "title": "Type",
          "type": "string"
        },
        "url": {
          "description": "Filesystem URL or protocol (e.g., 'file', 's3://bucket-name', etc.).",
          "title": "Url",
          "type": "string"
        },
        "storage_options": {
          "additionalProperties": {
            "type": "string"
          },
          "description": "Additional options to pass to the filesystem constructor.",
          "title": "Storage Options",
          "type": "object"
        }
      },
      "required": [
        "url"
      ],
      "title": "FSSpecToolsetConfig",
      "type": "object"
    },
    "FabricConfig": {
      "additionalProperties": false,
      "description": "Configuration for Fabric GitHub prompt provider.",
      "properties": {
        "type": {
          "const": "fabric",
          "default": "fabric",
          "description": "Configuration for Fabric GitHub prompt provider.",
          "title": "Type",
          "type": "string"
        }
      },
      "title": "FabricConfig",
      "type": "object"
    },
    "FallbackModelConfig": {
      "additionalProperties": false,
      "description": "Configuration for fallback strategy.",
      "properties": {
        "type": {
          "const": "fallback",
          "default": "fallback",
          "description": "Type identifier for fallback model.",
          "title": "Type",
          "type": "string"
        },
        "models": {
          "description": "Ordered list of models to try in sequence.",
          "items": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "$ref": "#/$defs/BaseModelConfig"
              }
            ]
          },
          "minItems": 1,
          "title": "Models",
          "type": "array"
        }
      },
      "required": [
        "models"
      ],
      "title": "FallbackModelConfig",
      "type": "object"
    },
    "FileAccessToolsetConfig": {
      "additionalProperties": false,
      "description": "Configuration for file access toolset.",
      "properties": {
        "namespace": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Optional namespace prefix for tool names",
          "title": "Namespace"
        },
        "type": {
          "const": "file_access",
          "default": "file_access",
          "description": "File access toolset.",
          "title": "Type",
          "type": "string"
        }
      },
      "title": "FileAccessToolsetConfig",
      "type": "object"
    },
    "FileCommandConfig": {
      "additionalProperties": false,
      "description": "File-based command that loads content from external file.",
      "properties": {
        "type": {
          "const": "file",
          "default": "file",
          "description": "File-based command configuration.",
          "title": "Type",
          "type": "string"
        },
        "name": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Command name (optional, can be inferred from key).",
          "title": "Name"
        },
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Optional description of what this command does.",
          "title": "Description"
        },
        "path": {
          "description": "Path to file containing the prompt template.",
          "title": "Path",
          "type": "string"
        },
        "encoding": {
          "default": "utf-8",
          "description": "File encoding to use when reading the file.",
          "title": "Encoding",
          "type": "string"
        }
      },
      "required": [
        "path"
      ],
      "title": "FileCommandConfig",
      "type": "object"
    },
    "FileConnectionConfig": {
      "additionalProperties": false,
      "description": "Write messages to a file using a template.\n\nThe template receives the full message object for formatting.\nAvailable fields include:\n- timestamp: When the message was created\n- name: Name of the sender\n- content: Message content\n- role: Message role (user/assistant/system)\n- model: Model used (if any)\n- cost_info: Token usage and cost info\n- forwarded_from: Chain of message forwarding",
      "properties": {
        "type": {
          "const": "file",
          "default": "file",
          "description": "Connection to a file.",
          "title": "Type",
          "type": "string"
        },
        "wait_for_completion": {
          "default": true,
          "description": "Whether to wait for the result before continuing.\n\nIf True, message processing will wait for the target to complete.\nIf False, message will be forwarded asynchronously.",
          "title": "Wait For Completion",
          "type": "boolean"
        },
        "queued": {
          "default": false,
          "description": "Whether messages should be queued for manual processing.",
          "title": "Queued",
          "type": "boolean"
        },
        "queue_strategy": {
          "default": "latest",
          "description": "How to process queued messages.",
          "enum": [
            "concat",
            "latest",
            "buffer"
          ],
          "title": "Queue Strategy",
          "type": "string"
        },
        "priority": {
          "default": 0,
          "description": "Priority of the task. Lower = higher priority.",
          "title": "Priority",
          "type": "integer"
        },
        "delay": {
          "anyOf": [
            {
              "format": "duration",
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Delay before processing.",
          "title": "Delay"
        },
        "filter_condition": {
          "anyOf": [
            {
              "discriminator": {
                "mapping": {
                  "and": "#/$defs/AndCondition",
                  "callable": "#/$defs/CallableCondition",
                  "cost_limit": "#/$defs/CostLimitCondition",
                  "jinja2": "#/$defs/Jinja2Condition",
                  "message_count": "#/$defs/MessageCountCondition",
                  "or": "#/$defs/OrCondition",
                  "time": "#/$defs/TimeCondition",
                  "token_threshold": "#/$defs/TokenThresholdCondition",
                  "word_match": "#/$defs/WordMatchCondition"
                },
                "propertyName": "type"
              },
              "oneOf": [
                {
                  "$ref": "#/$defs/WordMatchCondition"
                },
                {
                  "$ref": "#/$defs/MessageCountCondition"
                },
                {
                  "$ref": "#/$defs/TimeCondition"
                },
                {
                  "$ref": "#/$defs/TokenThresholdCondition"
                },
                {
                  "$ref": "#/$defs/CostLimitCondition"
                },
                {
                  "$ref": "#/$defs/CallableCondition"
                },
                {
                  "$ref": "#/$defs/Jinja2Condition"
                },
                {
                  "$ref": "#/$defs/AndCondition"
                },
                {
                  "$ref": "#/$defs/OrCondition"
                }
              ]
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "When to filter messages (using Talk.when()).",
          "title": "Filter Condition"
        },
        "stop_condition": {
          "anyOf": [
            {
              "discriminator": {
                "mapping": {
                  "and": "#/$defs/AndCondition",
                  "callable": "#/$defs/CallableCondition",
                  "cost_limit": "#/$defs/CostLimitCondition",
                  "jinja2": "#/$defs/Jinja2Condition",
                  "message_count": "#/$defs/MessageCountCondition",
                  "or": "#/$defs/OrCondition",
                  "time": "#/$defs/TimeCondition",
                  "token_threshold": "#/$defs/TokenThresholdCondition",
                  "word_match": "#/$defs/WordMatchCondition"
                },
                "propertyName": "type"
              },
              "oneOf": [
                {
                  "$ref": "#/$defs/WordMatchCondition"
                },
                {
                  "$ref": "#/$defs/MessageCountCondition"
                },
                {
                  "$ref": "#/$defs/TimeCondition"
                },
                {
                  "$ref": "#/$defs/TokenThresholdCondition"
                },
                {
                  "$ref": "#/$defs/CostLimitCondition"
                },
                {
                  "$ref": "#/$defs/CallableCondition"
                },
                {
                  "$ref": "#/$defs/Jinja2Condition"
                },
                {
                  "$ref": "#/$defs/AndCondition"
                },
                {
                  "$ref": "#/$defs/OrCondition"
                }
              ]
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "When to disconnect the connection.",
          "title": "Stop Condition"
        },
        "exit_condition": {
          "anyOf": [
            {
              "discriminator": {
                "mapping": {
                  "and": "#/$defs/AndCondition",
                  "callable": "#/$defs/CallableCondition",
                  "cost_limit": "#/$defs/CostLimitCondition",
                  "jinja2": "#/$defs/Jinja2Condition",
                  "message_count": "#/$defs/MessageCountCondition",
                  "or": "#/$defs/OrCondition",
                  "time": "#/$defs/TimeCondition",
                  "token_threshold": "#/$defs/TokenThresholdCondition",
                  "word_match": "#/$defs/WordMatchCondition"
                },
                "propertyName": "type"
              },
              "oneOf": [
                {
                  "$ref": "#/$defs/WordMatchCondition"
                },
                {
                  "$ref": "#/$defs/MessageCountCondition"
                },
                {
                  "$ref": "#/$defs/TimeCondition"
                },
                {
                  "$ref": "#/$defs/TokenThresholdCondition"
                },
                {
                  "$ref": "#/$defs/CostLimitCondition"
                },
                {
                  "$ref": "#/$defs/CallableCondition"
                },
                {
                  "$ref": "#/$defs/Jinja2Condition"
                },
                {
                  "$ref": "#/$defs/AndCondition"
                },
                {
                  "$ref": "#/$defs/OrCondition"
                }
              ]
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "When to exit the application (by raising SystemExit).",
          "title": "Exit Condition"
        },
        "transform": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Optional function to transform messages before forwarding.",
          "title": "Transform"
        },
        "connection_type": {
          "const": "run",
          "default": "run",
          "description": "Connection type (fixed to \"run\")",
          "title": "Connection Type",
          "type": "string"
        },
        "path": {
          "description": "Path to output file. Supports variables: {date}, {time}, {agent}",
          "title": "Path",
          "type": "string"
        },
        "template": {
          "default": "\n[{{ message.timestamp.strftime('%Y-%m-%d %H:%M:%S') }}] {{ message.name }}: {{ message.content }}\n{%- if message.forwarded_from %}\n(via: {{ message.forwarded_from|join(' -> ') }})\n{%- endif %}\n",
          "description": "Jinja2 template for message formatting.",
          "title": "Template",
          "type": "string"
        },
        "encoding": {
          "default": "utf-8",
          "description": "File encoding to use.",
          "title": "Encoding",
          "type": "string"
        }
      },
      "required": [
        "path"
      ],
      "title": "FileConnectionConfig",
      "type": "object"
    },
    "FilePrompt": {
      "additionalProperties": false,
      "description": "Prompt loaded from a file.\n\nThis type of prompt loads its content from a file, allowing for longer or more\ncomplex prompts to be managed in separate files. The file content is loaded\nand parsed according to the specified format.",
      "properties": {
        "name": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Technical identifier (automatically set from config key during registration).",
          "title": "Name"
        },
        "description": {
          "description": "Human-readable description of what this prompt does.",
          "title": "Description",
          "type": "string"
        },
        "title": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Title of the prompt.",
          "title": "Title"
        },
        "metadata": {
          "additionalProperties": true,
          "description": "Additional metadata for storing custom prompt information.",
          "title": "Metadata",
          "type": "object"
        },
        "path": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "format": "path",
              "type": "string"
            },
            {
              "additionalProperties": false,
              "properties": {
                "path": {
                  "title": "Path",
                  "type": "string"
                },
                "protocol": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "default": null,
                  "title": "Protocol"
                },
                "storage_options": {
                  "additionalProperties": true,
                  "title": "Storage Options",
                  "type": "object"
                }
              },
              "required": [
                "path"
              ],
              "type": "object"
            }
          ],
          "description": "Path to the file containing the prompt content.",
          "title": "Path"
        },
        "format": {
          "default": "text",
          "description": "Format of the file content (text, markdown, or jinja2 template).",
          "enum": [
            "text",
            "markdown",
            "jinja2"
          ],
          "title": "Format",
          "type": "string"
        },
        "type": {
          "const": "file",
          "default": "file",
          "description": "Discriminator field identifying this as a file-based prompt.",
          "title": "Type",
          "type": "string"
        },
        "watch": {
          "default": false,
          "description": "Whether to watch the file for changes and reload automatically.",
          "title": "Watch",
          "type": "boolean"
        }
      },
      "required": [
        "description",
        "path"
      ],
      "title": "FilePrompt",
      "type": "object"
    },
    "FilePromptConfig": {
      "additionalProperties": false,
      "description": "Configuration for a file-based Jinja template prompt.",
      "properties": {
        "content": {
          "description": "The actual prompt text.",
          "title": "Content",
          "type": "string"
        },
        "category": {
          "default": "role",
          "description": "Categorization for template organization.",
          "enum": [
            "role",
            "methodology",
            "quality",
            "task"
          ],
          "title": "Category",
          "type": "string"
        },
        "type": {
          "const": "file",
          "default": "file",
          "description": "File prompt reference.",
          "title": "Type",
          "type": "string"
        },
        "path": {
          "description": "Path to the Jinja template file.",
          "title": "Path",
          "type": "string"
        },
        "variables": {
          "additionalProperties": true,
          "description": "Variables to pass to the template.",
          "title": "Variables",
          "type": "object"
        }
      },
      "required": [
        "content",
        "path"
      ],
      "title": "FilePromptConfig",
      "type": "object"
    },
    "FileStorageConfig": {
      "additionalProperties": false,
      "description": "File storage configuration.",
      "properties": {
        "type": {
          "const": "file",
          "default": "file",
          "description": "File storage configuration.",
          "title": "Type",
          "type": "string"
        },
        "log_messages": {
          "default": true,
          "description": "Whether to log messages",
          "title": "Log Messages",
          "type": "boolean"
        },
        "agents": {
          "anyOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array",
              "uniqueItems": true
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Optional set of agent names to include. If None, logs all agents.",
          "title": "Agents"
        },
        "log_conversations": {
          "default": true,
          "description": "Whether to log conversations",
          "title": "Log Conversations",
          "type": "boolean"
        },
        "log_commands": {
          "default": true,
          "description": "Whether to log command executions",
          "title": "Log Commands",
          "type": "boolean"
        },
        "log_context": {
          "default": true,
          "description": "Whether to log context messages.",
          "title": "Log Context",
          "type": "boolean"
        },
        "path": {
          "description": "Path to storage file (extension determines format unless specified)",
          "title": "Path",
          "type": "string"
        },
        "format": {
          "anyOf": [
            {
              "enum": [
                "yaml",
                "toml",
                "json",
                "ini"
              ],
              "type": "string"
            },
            {
              "const": "auto",
              "type": "string"
            }
          ],
          "default": "auto",
          "description": "Storage format (auto=detect from extension)",
          "title": "Format"
        },
        "encoding": {
          "default": "utf-8",
          "description": "File encoding",
          "title": "Encoding",
          "type": "string"
        }
      },
      "required": [
        "path"
      ],
      "title": "FileStorageConfig",
      "type": "object"
    },
    "FileWatchConfig": {
      "additionalProperties": false,
      "description": "File watching event source.",
      "properties": {
        "type": {
          "const": "file",
          "default": "file",
          "description": "File / folder content change events.",
          "title": "Type",
          "type": "string"
        },
        "name": {
          "description": "Unique identifier for this event source.",
          "title": "Name",
          "type": "string"
        },
        "enabled": {
          "default": true,
          "description": "Whether this event source is active.",
          "title": "Enabled",
          "type": "boolean"
        },
        "template": {
          "default": "\n{%- if include_timestamp %}at {{ timestamp }}{% endif %}\nEvent from {{ source }}:\n{%- if include_metadata %}\nMetadata:\n{% for key, value in metadata.items() %}\n{{ key }}: {{ value }}\n{% endfor %}\n{% endif %}\n{{ content }}\n",
          "description": "Jinja2 template for formatting events.",
          "title": "Template",
          "type": "string"
        },
        "include_metadata": {
          "default": true,
          "description": "Control metadata visibility in template.",
          "title": "Include Metadata",
          "type": "boolean"
        },
        "include_timestamp": {
          "default": true,
          "description": "Control timestamp visibility in template.",
          "title": "Include Timestamp",
          "type": "boolean"
        },
        "paths": {
          "description": "Paths or patterns to watch for changes.",
          "items": {
            "type": "string"
          },
          "title": "Paths",
          "type": "array"
        },
        "extensions": {
          "anyOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "File extensions to monitor (e.g. ['.py', '.md']).",
          "title": "Extensions"
        },
        "ignore_paths": {
          "anyOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Paths or patterns to ignore.",
          "title": "Ignore Paths"
        },
        "recursive": {
          "default": true,
          "description": "Whether to watch subdirectories.",
          "title": "Recursive",
          "type": "boolean"
        },
        "debounce": {
          "default": 1600,
          "description": "Minimum time (ms) between trigger events.",
          "title": "Debounce",
          "type": "integer"
        }
      },
      "required": [
        "name",
        "paths"
      ],
      "title": "FileWatchConfig",
      "type": "object"
    },
    "FunctionModelConfig": {
      "additionalProperties": false,
      "description": "Configuration for function-based model references.",
      "properties": {
        "type": {
          "const": "function",
          "default": "function",
          "description": "Type identifier for function model.",
          "title": "Type",
          "type": "string"
        },
        "function": {
          "description": "Function identifier for the model.",
          "title": "Function",
          "type": "string"
        }
      },
      "required": [
        "function"
      ],
      "title": "FunctionModelConfig",
      "type": "object"
    },
    "FunctionPromptConfig": {
      "additionalProperties": false,
      "description": "Configuration for a function-generated prompt.",
      "properties": {
        "content": {
          "description": "The actual prompt text.",
          "title": "Content",
          "type": "string"
        },
        "category": {
          "default": "role",
          "description": "Categorization for template organization.",
          "enum": [
            "role",
            "methodology",
            "quality",
            "task"
          ],
          "title": "Category",
          "type": "string"
        },
        "type": {
          "const": "function",
          "default": "function",
          "description": "Function prompt reference.",
          "title": "Type",
          "type": "string"
        },
        "function": {
          "description": "Import path to the function that generates the prompt.",
          "title": "Function",
          "type": "string"
        },
        "arguments": {
          "additionalProperties": true,
          "description": "Arguments to pass to the function.",
          "title": "Arguments",
          "type": "object"
        }
      },
      "required": [
        "content",
        "function"
      ],
      "title": "FunctionPromptConfig",
      "type": "object"
    },
    "GoogleSpeechConfig": {
      "additionalProperties": false,
      "description": "Configuration for Google Cloud Speech-to-Text.",
      "properties": {
        "type": {
          "const": "google_speech",
          "default": "google_speech",
          "description": "Type discriminator for converter config.",
          "title": "Type",
          "type": "string"
        },
        "enabled": {
          "default": true,
          "description": "Whether this converter is currently active.",
          "title": "Enabled",
          "type": "boolean"
        },
        "language": {
          "default": "en-US",
          "description": "Language code for transcription.",
          "title": "Language",
          "type": "string"
        },
        "model": {
          "default": "default",
          "description": "Speech model to use.",
          "title": "Model",
          "type": "string"
        },
        "encoding": {
          "default": "LINEAR16",
          "description": "Audio encoding format.",
          "enum": [
            "LINEAR16",
            "FLAC",
            "MP3"
          ],
          "title": "Encoding",
          "type": "string"
        }
      },
      "title": "GoogleSpeechConfig",
      "type": "object"
    },
    "HistoryToolsetConfig": {
      "additionalProperties": false,
      "description": "Configuration for history toolset.",
      "properties": {
        "namespace": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Optional namespace prefix for tool names",
          "title": "Namespace"
        },
        "type": {
          "const": "history",
          "default": "history",
          "description": "History toolset.",
          "title": "Type",
          "type": "string"
        }
      },
      "title": "HistoryToolsetConfig",
      "type": "object"
    },
    "ImportModelConfig": {
      "additionalProperties": false,
      "description": "Configuration for importing external models.",
      "properties": {
        "type": {
          "const": "import",
          "default": "import",
          "description": "Type identifier for import model.",
          "title": "Type",
          "type": "string"
        },
        "model": {
          "description": "Import path to the model class or function.",
          "title": "Model",
          "type": "string"
        },
        "kw_args": {
          "additionalProperties": {
            "type": "string"
          },
          "description": "Keyword arguments to pass to the imported model.",
          "title": "Kw Args",
          "type": "object"
        }
      },
      "required": [
        "model"
      ],
      "title": "ImportModelConfig",
      "type": "object"
    },
    "ImportToolConfig": {
      "additionalProperties": false,
      "description": "Configuration for importing tools from Python modules.",
      "properties": {
        "type": {
          "const": "import",
          "default": "import",
          "description": "Import path based tool.",
          "title": "Type",
          "type": "string"
        },
        "name": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Optional override for the tool name.",
          "title": "Name"
        },
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Optional override for the tool description.",
          "title": "Description"
        },
        "enabled": {
          "default": true,
          "description": "Whether this tool is initially enabled.",
          "title": "Enabled",
          "type": "boolean"
        },
        "requires_confirmation": {
          "default": false,
          "description": "Whether tool execution needs confirmation.",
          "title": "Requires Confirmation",
          "type": "boolean"
        },
        "metadata": {
          "additionalProperties": {
            "type": "string"
          },
          "description": "Additional tool metadata.",
          "title": "Metadata",
          "type": "object"
        },
        "hints": {
          "anyOf": [
            {
              "$ref": "#/$defs/ToolHints"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Hints for tool execution."
        },
        "import_path": {
          "description": "Import path to the tool function.",
          "title": "Import Path",
          "type": "string"
        }
      },
      "required": [
        "import_path"
      ],
      "title": "ImportToolConfig",
      "type": "object"
    },
    "ImportedSchemaDef": {
      "additionalProperties": false,
      "description": "Response definition that imports an existing Pydantic model.\n\nAllows using externally defined Pydantic models as response types.\nBenefits:\n- Reuse existing model definitions\n- Full Python type support\n- Complex validation logic\n- IDE support for imported types\n\nExample:\n    responses:\n      AnalysisResult:\n        type: import\n        import_path: myapp.models.AnalysisResult",
      "properties": {
        "type": {
          "const": "import",
          "default": "import",
          "description": "Import-path based response definition.",
          "title": "Type",
          "type": "string"
        },
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "A description for this response definition.",
          "title": "Description"
        },
        "import_path": {
          "description": "The path to the pydantic model to use as the response type.",
          "title": "Import Path",
          "type": "string"
        }
      },
      "required": [
        "import_path"
      ],
      "title": "ImportedSchemaDef",
      "type": "object"
    },
    "InlineSchemaDef": {
      "additionalProperties": false,
      "description": "Inline definition of schema.\n\nAllows defining response types directly in the configuration using:\n- Field definitions with types and descriptions\n- Optional validation constraints\n- Custom field descriptions\n- Field dependencies and relationships\n\nExample:\n    type: inline\n    fields:\n        success: {type: bool, description: \"Operation success\"}\n        message: {type: str, description: \"Result details\"}\n        payment_method: {type: str, description: \"Payment method used\"}\n        card_number: {\n            type: str,\n            description: \"Credit card number\",\n            dependent_required: {\n            \"payment_method\": [\"card_expiry\", \"card_cvc\"]\n            }\n        }",
      "properties": {
        "type": {
          "const": "inline",
          "default": "inline",
          "description": "Inline response definition.",
          "title": "Type",
          "type": "string"
        },
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "A description for this response definition.",
          "title": "Description"
        },
        "fields": {
          "additionalProperties": {
            "$ref": "#/$defs/SchemaField"
          },
          "description": "A dictionary containing all fields.",
          "title": "Fields",
          "type": "object"
        }
      },
      "required": [
        "fields"
      ],
      "title": "InlineSchemaDef",
      "type": "object"
    },
    "InputModelConfig": {
      "additionalProperties": false,
      "description": "Configuration for human input model.",
      "properties": {
        "type": {
          "const": "input",
          "default": "input",
          "description": "Type identifier for input model.",
          "title": "Type",
          "type": "string"
        },
        "prompt_template": {
          "default": "\ud83d\udc64 Please respond to: {prompt}",
          "description": "Template for displaying the prompt to the user.",
          "title": "Prompt Template",
          "type": "string"
        },
        "show_system": {
          "default": true,
          "description": "Whether to show system messages.",
          "title": "Show System",
          "type": "boolean"
        },
        "input_prompt": {
          "default": "Your response: ",
          "description": "Text displayed when requesting input.",
          "title": "Input Prompt",
          "type": "string"
        },
        "handler": {
          "default": "llmling_models:DefaultInputHandler",
          "description": "Handler for processing user input.",
          "title": "Handler",
          "type": "string"
        }
      },
      "title": "InputModelConfig",
      "type": "object"
    },
    "IntegrationToolsetConfig": {
      "additionalProperties": false,
      "description": "Configuration for integration toolset.",
      "properties": {
        "namespace": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Optional namespace prefix for tool names",
          "title": "Namespace"
        },
        "type": {
          "const": "integrations",
          "default": "integrations",
          "description": "Integration toolset.",
          "title": "Type",
          "type": "string"
        }
      },
      "title": "IntegrationToolsetConfig",
      "type": "object"
    },
    "Jinja2Condition": {
      "additionalProperties": false,
      "description": "Evaluate condition using Jinja2 template.",
      "properties": {
        "type": {
          "const": "jinja2",
          "default": "jinja2",
          "description": "Jinja2 template-based condition.",
          "title": "Type",
          "type": "string"
        },
        "name": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Optional name for the condition for referencing.",
          "title": "Name"
        },
        "template": {
          "description": "Jinja2 template to evaluate.",
          "title": "Template",
          "type": "string"
        }
      },
      "required": [
        "template"
      ],
      "title": "Jinja2Condition",
      "type": "object"
    },
    "Job": {
      "additionalProperties": false,
      "description": "A task is a piece of work that can be executed by an agent.\n\nRequirements:\n- The agent must have compatible dependencies (required_dependency)\n- The agent must produce the specified result type (required_return_type)\n\nEquipment:\n- The task provides necessary tools for execution (tools)\n- Tools are temporarily available during task execution",
      "properties": {
        "name": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Technical identifier (automatically set from config key during registration)",
          "title": "Name"
        },
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Human-readable description of what this task does",
          "title": "Description"
        },
        "prompt": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "$ref": "#/$defs/BasePrompt"
            }
          ],
          "description": "The task instruction/prompt.",
          "title": "Prompt"
        },
        "required_return_type": {
          "default": "str",
          "description": "Expected type of the task result.",
          "title": "Required Return Type",
          "type": "string"
        },
        "required_dependency": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Dependencies or context data needed for task execution",
          "title": "Required Dependency"
        },
        "requires_vision": {
          "default": false,
          "description": "Whether the agent requires vision",
          "title": "Requires Vision",
          "type": "boolean"
        },
        "knowledge": {
          "anyOf": [
            {
              "$ref": "#/$defs/Knowledge"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Optional knowledge sources for this task:\n- Simple file/URL paths\n- Rich resource definitions\n- Prompt templates"
        },
        "tools": {
          "description": "Tools needed for this task.",
          "items": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "$ref": "#/$defs/ImportToolConfig"
              }
            ]
          },
          "title": "Tools",
          "type": "array"
        },
        "min_context_tokens": {
          "anyOf": [
            {
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Minimum amount of required context size.",
          "title": "Min Context Tokens"
        }
      },
      "required": [
        "prompt"
      ],
      "title": "Job",
      "type": "object"
    },
    "Knowledge": {
      "additionalProperties": false,
      "description": "Collection of context sources for an agent.\n\nSupports both simple paths and rich resource types for content loading,\nplus LLMling's prompt system for dynamic content generation.",
      "properties": {
        "paths": {
          "description": "Quick access to files and URLs.",
          "items": {
            "type": "string"
          },
          "title": "Paths",
          "type": "array"
        },
        "prompts": {
          "description": "Prompts for dynamic content generation:\n- StaticPrompt: Fixed message templates\n- DynamicPrompt: Python function-based\n- FilePrompt: File-based with template support",
          "items": {
            "discriminator": {
              "mapping": {
                "file": "#/$defs/FilePrompt",
                "function": "#/$defs/DynamicPrompt",
                "text": "#/$defs/StaticPrompt"
              },
              "propertyName": "type"
            },
            "oneOf": [
              {
                "$ref": "#/$defs/StaticPrompt"
              },
              {
                "$ref": "#/$defs/DynamicPrompt"
              },
              {
                "$ref": "#/$defs/FilePrompt"
              }
            ]
          },
          "title": "Prompts",
          "type": "array"
        },
        "convert_to_markdown": {
          "default": false,
          "description": "Whether to convert content to markdown when possible.",
          "title": "Convert To Markdown",
          "type": "boolean"
        }
      },
      "title": "Knowledge",
      "type": "object"
    },
    "LangChainToolConfig": {
      "additionalProperties": false,
      "description": "Configuration for LangChain tools.",
      "properties": {
        "type": {
          "const": "langchain",
          "default": "langchain",
          "description": "LangChain tool configuration.",
          "title": "Type",
          "type": "string"
        },
        "name": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Optional override for the tool name.",
          "title": "Name"
        },
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Optional override for the tool description.",
          "title": "Description"
        },
        "enabled": {
          "default": true,
          "description": "Whether this tool is initially enabled.",
          "title": "Enabled",
          "type": "boolean"
        },
        "requires_confirmation": {
          "default": false,
          "description": "Whether tool execution needs confirmation.",
          "title": "Requires Confirmation",
          "type": "boolean"
        },
        "metadata": {
          "additionalProperties": {
            "type": "string"
          },
          "description": "Additional tool metadata.",
          "title": "Metadata",
          "type": "object"
        },
        "hints": {
          "anyOf": [
            {
              "$ref": "#/$defs/ToolHints"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Hints for tool execution."
        },
        "tool_name": {
          "description": "Name of LangChain tool to use.",
          "title": "Tool Name",
          "type": "string"
        },
        "params": {
          "additionalProperties": true,
          "description": "Tool-specific parameters.",
          "title": "Params",
          "type": "object"
        }
      },
      "required": [
        "tool_name"
      ],
      "title": "LangChainToolConfig",
      "type": "object"
    },
    "LangfuseConfig": {
      "additionalProperties": false,
      "description": "Configuration for Langfuse prompt provider.",
      "properties": {
        "type": {
          "const": "langfuse",
          "default": "langfuse",
          "description": "Configuration for Langfuse prompt provider.",
          "title": "Type",
          "type": "string"
        },
        "secret_key": {
          "description": "Secret key for the Langfuse API.",
          "format": "password",
          "title": "Secret Key",
          "type": "string",
          "writeOnly": true
        },
        "public_key": {
          "description": "Public key for the Langfuse API.",
          "format": "password",
          "title": "Public Key",
          "type": "string",
          "writeOnly": true
        },
        "host": {
          "default": "https://cloud.langfuse.com/",
          "description": "Langfuse host address.",
          "format": "uri",
          "maxLength": 2083,
          "minLength": 1,
          "title": "Host",
          "type": "string"
        },
        "cache_ttl_seconds": {
          "default": 60,
          "description": "Cache TTL for responses in seconds.",
          "minimum": 0,
          "title": "Cache Ttl Seconds",
          "type": "integer"
        },
        "max_retries": {
          "default": 2,
          "description": "Maximum number of retries for failed requests.",
          "minimum": 0,
          "title": "Max Retries",
          "type": "integer"
        },
        "fetch_timeout_seconds": {
          "default": 20,
          "description": "Timeout for fetching responses in seconds.",
          "minimum": 0,
          "title": "Fetch Timeout Seconds",
          "type": "integer"
        }
      },
      "required": [
        "secret_key",
        "public_key"
      ],
      "title": "LangfuseConfig",
      "type": "object"
    },
    "LangsmithObservabilityConfig": {
      "additionalProperties": false,
      "description": "Configuration for Langsmith endpoint.",
      "properties": {
        "type": {
          "const": "langsmith",
          "default": "langsmith",
          "title": "Type",
          "type": "string"
        },
        "enabled": {
          "default": true,
          "title": "Enabled",
          "type": "boolean"
        },
        "service_name": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Service Name"
        },
        "environment": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Environment"
        },
        "protocol": {
          "default": "http/protobuf",
          "enum": [
            "http/protobuf",
            "grpc",
            "http/json"
          ],
          "title": "Protocol",
          "type": "string"
        },
        "api_key": {
          "anyOf": [
            {
              "format": "password",
              "type": "string",
              "writeOnly": true
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Api Key"
        },
        "project_name": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Project Name"
        }
      },
      "title": "LangsmithObservabilityConfig",
      "type": "object"
    },
    "LibraryPromptConfig": {
      "additionalProperties": false,
      "description": "Configuration for a library reference prompt.",
      "properties": {
        "content": {
          "description": "The actual prompt text.",
          "title": "Content",
          "type": "string"
        },
        "category": {
          "default": "role",
          "description": "Categorization for template organization.",
          "enum": [
            "role",
            "methodology",
            "quality",
            "task"
          ],
          "title": "Category",
          "type": "string"
        },
        "type": {
          "const": "library",
          "default": "library",
          "description": "Library prompt reference.",
          "title": "Type",
          "type": "string"
        },
        "reference": {
          "description": "Library prompt reference identifier.",
          "title": "Reference",
          "type": "string"
        }
      },
      "required": [
        "content",
        "reference"
      ],
      "title": "LibraryPromptConfig",
      "type": "object"
    },
    "LocalExecutionEnvironmentConfig": {
      "additionalProperties": false,
      "description": "Local execution environment configuration.\n\nExecutes code in the same process. Fastest option but offers no isolation.",
      "properties": {
        "type": {
          "const": "local",
          "default": "local",
          "title": "Type",
          "type": "string"
        },
        "dependencies": {
          "anyOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "List of packages to install (pip for Python, npm for JS/TS).",
          "title": "Dependencies"
        },
        "timeout": {
          "default": 60.0,
          "description": "Execution timeout in seconds.",
          "exclusiveMinimum": 0.0,
          "title": "Timeout",
          "type": "number"
        },
        "executable": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Python executable to use (if None, auto-detect based on language).",
          "title": "Executable"
        },
        "language": {
          "default": "python",
          "description": "Programming language to use.",
          "enum": [
            "python",
            "javascript",
            "typescript"
          ],
          "title": "Language",
          "type": "string"
        },
        "isolated": {
          "default": false,
          "description": "Whether to run code in a subprocess.",
          "title": "Isolated",
          "type": "boolean"
        }
      },
      "title": "LocalExecutionEnvironmentConfig",
      "type": "object"
    },
    "LocalWhisperConfig": {
      "additionalProperties": false,
      "description": "Configuration for local Whisper model.",
      "properties": {
        "type": {
          "const": "local_whisper",
          "default": "local_whisper",
          "description": "Type discriminator for converter config.",
          "title": "Type",
          "type": "string"
        },
        "enabled": {
          "default": true,
          "description": "Whether this converter is currently active.",
          "title": "Enabled",
          "type": "boolean"
        },
        "model": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Optional model name.",
          "title": "Model"
        },
        "model_size": {
          "default": "base",
          "description": "Size of the Whisper model to use.",
          "enum": [
            "tiny",
            "base",
            "small",
            "medium",
            "large"
          ],
          "title": "Model Size",
          "type": "string"
        },
        "device": {
          "anyOf": [
            {
              "enum": [
                "cpu",
                "cuda"
              ],
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Device to run model on (None for auto-select).",
          "title": "Device"
        },
        "compute_type": {
          "default": "float16",
          "description": "Compute precision to use.",
          "enum": [
            "float32",
            "float16"
          ],
          "title": "Compute Type",
          "type": "string"
        }
      },
      "title": "LocalWhisperConfig",
      "type": "object"
    },
    "LogfireObservabilityConfig": {
      "additionalProperties": false,
      "description": "Configuration for Logfire endpoint.",
      "properties": {
        "type": {
          "const": "logfire",
          "default": "logfire",
          "title": "Type",
          "type": "string"
        },
        "enabled": {
          "default": true,
          "title": "Enabled",
          "type": "boolean"
        },
        "service_name": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Service Name"
        },
        "environment": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Environment"
        },
        "protocol": {
          "default": "http/protobuf",
          "enum": [
            "http/protobuf",
            "grpc",
            "http/json"
          ],
          "title": "Protocol",
          "type": "string"
        },
        "token": {
          "anyOf": [
            {
              "format": "password",
              "type": "string",
              "writeOnly": true
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Token"
        },
        "region": {
          "default": "us",
          "enum": [
            "us",
            "eu"
          ],
          "title": "Region",
          "type": "string"
        }
      },
      "title": "LogfireObservabilityConfig",
      "type": "object"
    },
    "MCPPoolServerConfig": {
      "additionalProperties": false,
      "description": "Configuration for pool-based MCP server.",
      "properties": {
        "enabled": {
          "default": false,
          "description": "Whether this server is currently enabled.",
          "title": "Enabled",
          "type": "boolean"
        },
        "serve_nodes": {
          "anyOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "type": "boolean"
            }
          ],
          "default": true,
          "description": "Which nodes to expose as tools:\n- True: All nodes\n- False: No nodes\n- list[str]: Specific node names",
          "title": "Serve Nodes"
        },
        "serve_prompts": {
          "anyOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "type": "boolean"
            }
          ],
          "default": true,
          "description": "Which prompts to expose:\n- True: All prompts from manifest\n- False: No prompts\n- list[str]: Specific prompt names",
          "title": "Serve Prompts"
        },
        "transport": {
          "default": "stdio",
          "description": "Transport type to use.",
          "enum": [
            "stdio",
            "sse",
            "streamable-http"
          ],
          "title": "Transport",
          "type": "string"
        },
        "host": {
          "default": "localhost",
          "description": "Host to bind server to (SSE / Streamable-HTTP only).",
          "title": "Host",
          "type": "string"
        },
        "port": {
          "default": 3001,
          "description": "Port to listen on (SSE / Streamable-HTTP only).",
          "exclusiveMinimum": 0,
          "title": "Port",
          "type": "integer"
        },
        "cors_origins": {
          "description": "Allowed CORS origins (SSE / Streamable-HTTP only).",
          "items": {
            "type": "string"
          },
          "title": "Cors Origins",
          "type": "array"
        },
        "zed_mode": {
          "default": false,
          "description": "Enable Zed editor compatibility mode.",
          "title": "Zed Mode",
          "type": "boolean"
        }
      },
      "title": "MCPPoolServerConfig",
      "type": "object"
    },
    "MCPServerAuthSettings": {
      "additionalProperties": false,
      "description": "Represents authentication configuration for a server.\n\nMinimal OAuth v2.1 support with sensible defaults.",
      "properties": {
        "oauth": {
          "default": false,
          "title": "Oauth",
          "type": "boolean"
        },
        "redirect_port": {
          "default": 3030,
          "title": "Redirect Port",
          "type": "integer"
        },
        "redirect_path": {
          "default": "/callback",
          "title": "Redirect Path",
          "type": "string"
        },
        "scope": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Scope"
        },
        "persist": {
          "default": "keyring",
          "enum": [
            "keyring",
            "memory"
          ],
          "title": "Persist",
          "type": "string"
        }
      },
      "title": "MCPServerAuthSettings",
      "type": "object"
    },
    "MarkItDownConfig": {
      "additionalProperties": false,
      "description": "Configuration for MarkItDown-based converter.",
      "properties": {
        "type": {
          "const": "markitdown",
          "default": "markitdown",
          "description": "Type discriminator for MarkItDown converter.",
          "title": "Type",
          "type": "string"
        },
        "enabled": {
          "default": true,
          "description": "Whether this converter is currently active.",
          "title": "Enabled",
          "type": "boolean"
        },
        "max_size": {
          "anyOf": [
            {
              "exclusiveMinimum": 0,
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Optional size limit in bytes.",
          "title": "Max Size"
        }
      },
      "title": "MarkItDownConfig",
      "type": "object"
    },
    "McpPythonExecutionEnvironmentConfig": {
      "additionalProperties": false,
      "description": "MCP Python execution environment configuration.\n\nExecutes Python code with Model Context Protocol support for AI integrations.",
      "properties": {
        "type": {
          "const": "mcp_python",
          "default": "mcp_python",
          "title": "Type",
          "type": "string"
        },
        "dependencies": {
          "anyOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "List of packages to install (pip for Python, npm for JS/TS).",
          "title": "Dependencies"
        },
        "timeout": {
          "default": 60.0,
          "description": "Execution timeout in seconds.",
          "exclusiveMinimum": 0.0,
          "title": "Timeout",
          "type": "number"
        },
        "allow_networking": {
          "default": true,
          "description": "Allow network access.",
          "title": "Allow Networking",
          "type": "boolean"
        }
      },
      "title": "McpPythonExecutionEnvironmentConfig",
      "type": "object"
    },
    "MemoryConfig": {
      "additionalProperties": false,
      "description": "Configuration for agent memory and history handling.",
      "properties": {
        "enable": {
          "default": true,
          "description": "Whether to enable history tracking.",
          "title": "Enable",
          "type": "boolean"
        },
        "max_tokens": {
          "anyOf": [
            {
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Maximum number of tokens to keep in context window.",
          "title": "Max Tokens"
        },
        "max_messages": {
          "anyOf": [
            {
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Maximum number of messages to keep in context window.",
          "title": "Max Messages"
        },
        "session": {
          "anyOf": [
            {
              "$ref": "#/$defs/SessionQuery"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Query configuration for loading previous session."
        },
        "provider": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Override default storage provider for this agent.\nIf None, uses manifest's default provider or first available.",
          "title": "Provider"
        }
      },
      "title": "MemoryConfig",
      "type": "object"
    },
    "MemoryStorageConfig": {
      "additionalProperties": false,
      "description": "In-memory storage configuration for testing.",
      "properties": {
        "type": {
          "const": "memory",
          "default": "memory",
          "description": "In-memory storage configuration for testing.",
          "title": "Type",
          "type": "string"
        },
        "log_messages": {
          "default": true,
          "description": "Whether to log messages",
          "title": "Log Messages",
          "type": "boolean"
        },
        "agents": {
          "anyOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array",
              "uniqueItems": true
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Optional set of agent names to include. If None, logs all agents.",
          "title": "Agents"
        },
        "log_conversations": {
          "default": true,
          "description": "Whether to log conversations",
          "title": "Log Conversations",
          "type": "boolean"
        },
        "log_commands": {
          "default": true,
          "description": "Whether to log command executions",
          "title": "Log Commands",
          "type": "boolean"
        },
        "log_context": {
          "default": true,
          "description": "Whether to log context messages.",
          "title": "Log Context",
          "type": "boolean"
        }
      },
      "title": "MemoryStorageConfig",
      "type": "object"
    },
    "MessageContent": {
      "additionalProperties": false,
      "description": "Content item in a message.",
      "properties": {
        "type": {
          "enum": [
            "text",
            "resource",
            "image_url",
            "image_base64"
          ],
          "title": "Type",
          "type": "string"
        },
        "content": {
          "title": "Content",
          "type": "string"
        },
        "alt_text": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Alt Text"
        }
      },
      "required": [
        "type",
        "content"
      ],
      "title": "MessageContent",
      "type": "object"
    },
    "MessageCountCondition": {
      "additionalProperties": false,
      "description": "Disconnect after N messages.",
      "properties": {
        "type": {
          "const": "message_count",
          "default": "message_count",
          "description": "Message-count-based condition.",
          "title": "Type",
          "type": "string"
        },
        "name": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Optional name for the condition for referencing.",
          "title": "Name"
        },
        "max_messages": {
          "description": "Maximum number of messages before triggering.",
          "exclusiveMinimum": 0,
          "title": "Max Messages",
          "type": "integer"
        },
        "count_mode": {
          "default": "total",
          "description": "How to count messages:\n- total: All messages in conversation\n- per_agent: Messages from each agent separately",
          "enum": [
            "total",
            "per_agent"
          ],
          "title": "Count Mode",
          "type": "string"
        }
      },
      "required": [
        "max_messages"
      ],
      "title": "MessageCountCondition",
      "type": "object"
    },
    "NodeConnectionConfig": {
      "additionalProperties": false,
      "description": "Forward messages to another node.\n\nThis configuration defines how messages should flow from one node to another,\nincluding:\n- Basic routing (which node, what type of connection)\n- Message queueing and processing strategies\n- Timing controls (priority, delay)\n- Execution behavior (wait for completion)",
      "properties": {
        "type": {
          "const": "node",
          "default": "node",
          "description": "Connection to another node.",
          "title": "Type",
          "type": "string"
        },
        "wait_for_completion": {
          "default": true,
          "description": "Whether to wait for the result before continuing.\n\nIf True, message processing will wait for the target to complete.\nIf False, message will be forwarded asynchronously.",
          "title": "Wait For Completion",
          "type": "boolean"
        },
        "queued": {
          "default": false,
          "description": "Whether messages should be queued for manual processing.",
          "title": "Queued",
          "type": "boolean"
        },
        "queue_strategy": {
          "default": "latest",
          "description": "How to process queued messages.",
          "enum": [
            "concat",
            "latest",
            "buffer"
          ],
          "title": "Queue Strategy",
          "type": "string"
        },
        "priority": {
          "default": 0,
          "description": "Priority of the task. Lower = higher priority.",
          "title": "Priority",
          "type": "integer"
        },
        "delay": {
          "anyOf": [
            {
              "format": "duration",
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Delay before processing.",
          "title": "Delay"
        },
        "filter_condition": {
          "anyOf": [
            {
              "discriminator": {
                "mapping": {
                  "and": "#/$defs/AndCondition",
                  "callable": "#/$defs/CallableCondition",
                  "cost_limit": "#/$defs/CostLimitCondition",
                  "jinja2": "#/$defs/Jinja2Condition",
                  "message_count": "#/$defs/MessageCountCondition",
                  "or": "#/$defs/OrCondition",
                  "time": "#/$defs/TimeCondition",
                  "token_threshold": "#/$defs/TokenThresholdCondition",
                  "word_match": "#/$defs/WordMatchCondition"
                },
                "propertyName": "type"
              },
              "oneOf": [
                {
                  "$ref": "#/$defs/WordMatchCondition"
                },
                {
                  "$ref": "#/$defs/MessageCountCondition"
                },
                {
                  "$ref": "#/$defs/TimeCondition"
                },
                {
                  "$ref": "#/$defs/TokenThresholdCondition"
                },
                {
                  "$ref": "#/$defs/CostLimitCondition"
                },
                {
                  "$ref": "#/$defs/CallableCondition"
                },
                {
                  "$ref": "#/$defs/Jinja2Condition"
                },
                {
                  "$ref": "#/$defs/AndCondition"
                },
                {
                  "$ref": "#/$defs/OrCondition"
                }
              ]
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "When to filter messages (using Talk.when()).",
          "title": "Filter Condition"
        },
        "stop_condition": {
          "anyOf": [
            {
              "discriminator": {
                "mapping": {
                  "and": "#/$defs/AndCondition",
                  "callable": "#/$defs/CallableCondition",
                  "cost_limit": "#/$defs/CostLimitCondition",
                  "jinja2": "#/$defs/Jinja2Condition",
                  "message_count": "#/$defs/MessageCountCondition",
                  "or": "#/$defs/OrCondition",
                  "time": "#/$defs/TimeCondition",
                  "token_threshold": "#/$defs/TokenThresholdCondition",
                  "word_match": "#/$defs/WordMatchCondition"
                },
                "propertyName": "type"
              },
              "oneOf": [
                {
                  "$ref": "#/$defs/WordMatchCondition"
                },
                {
                  "$ref": "#/$defs/MessageCountCondition"
                },
                {
                  "$ref": "#/$defs/TimeCondition"
                },
                {
                  "$ref": "#/$defs/TokenThresholdCondition"
                },
                {
                  "$ref": "#/$defs/CostLimitCondition"
                },
                {
                  "$ref": "#/$defs/CallableCondition"
                },
                {
                  "$ref": "#/$defs/Jinja2Condition"
                },
                {
                  "$ref": "#/$defs/AndCondition"
                },
                {
                  "$ref": "#/$defs/OrCondition"
                }
              ]
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "When to disconnect the connection.",
          "title": "Stop Condition"
        },
        "exit_condition": {
          "anyOf": [
            {
              "discriminator": {
                "mapping": {
                  "and": "#/$defs/AndCondition",
                  "callable": "#/$defs/CallableCondition",
                  "cost_limit": "#/$defs/CostLimitCondition",
                  "jinja2": "#/$defs/Jinja2Condition",
                  "message_count": "#/$defs/MessageCountCondition",
                  "or": "#/$defs/OrCondition",
                  "time": "#/$defs/TimeCondition",
                  "token_threshold": "#/$defs/TokenThresholdCondition",
                  "word_match": "#/$defs/WordMatchCondition"
                },
                "propertyName": "type"
              },
              "oneOf": [
                {
                  "$ref": "#/$defs/WordMatchCondition"
                },
                {
                  "$ref": "#/$defs/MessageCountCondition"
                },
                {
                  "$ref": "#/$defs/TimeCondition"
                },
                {
                  "$ref": "#/$defs/TokenThresholdCondition"
                },
                {
                  "$ref": "#/$defs/CostLimitCondition"
                },
                {
                  "$ref": "#/$defs/CallableCondition"
                },
                {
                  "$ref": "#/$defs/Jinja2Condition"
                },
                {
                  "$ref": "#/$defs/AndCondition"
                },
                {
                  "$ref": "#/$defs/OrCondition"
                }
              ]
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "When to exit the application (by raising SystemExit).",
          "title": "Exit Condition"
        },
        "transform": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Optional function to transform messages before forwarding.",
          "title": "Transform"
        },
        "name": {
          "description": "Name of target agent.",
          "title": "Name",
          "type": "string"
        },
        "connection_type": {
          "default": "run",
          "description": "How messages should be handled by the target agent:\n- run: Execute message as a new run\n- context: Add message to agent's context\n- forward: Forward message to agent's outbox",
          "enum": [
            "run",
            "context",
            "forward"
          ],
          "title": "Connection Type",
          "type": "string"
        }
      },
      "required": [
        "name"
      ],
      "title": "NodeConnectionConfig",
      "type": "object"
    },
    "ObservabilityConfig": {
      "additionalProperties": false,
      "description": "Global observability configuration - supports single backend only.",
      "properties": {
        "enabled": {
          "default": true,
          "description": "Whether observability is enabled.",
          "title": "Enabled",
          "type": "boolean"
        },
        "provider": {
          "anyOf": [
            {
              "discriminator": {
                "mapping": {
                  "agentops": "#/$defs/AgentOpsObservabilityConfig",
                  "arize": "#/$defs/ArizePhoenixObservabilityConfig",
                  "custom": "#/$defs/CustomObservabilityConfig",
                  "langsmith": "#/$defs/LangsmithObservabilityConfig",
                  "logfire": "#/$defs/LogfireObservabilityConfig"
                },
                "propertyName": "type"
              },
              "oneOf": [
                {
                  "$ref": "#/$defs/LogfireObservabilityConfig"
                },
                {
                  "$ref": "#/$defs/LangsmithObservabilityConfig"
                },
                {
                  "$ref": "#/$defs/AgentOpsObservabilityConfig"
                },
                {
                  "$ref": "#/$defs/ArizePhoenixObservabilityConfig"
                },
                {
                  "$ref": "#/$defs/CustomObservabilityConfig"
                }
              ]
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Single observability provider configuration.",
          "title": "Provider"
        }
      },
      "title": "ObservabilityConfig",
      "type": "object"
    },
    "OpenAPIToolsetConfig": {
      "additionalProperties": false,
      "description": "Configuration for OpenAPI toolsets.",
      "properties": {
        "namespace": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Optional namespace prefix for tool names",
          "title": "Namespace"
        },
        "type": {
          "const": "openapi",
          "default": "openapi",
          "description": "OpenAPI toolset.",
          "title": "Type",
          "type": "string"
        },
        "spec": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "additionalProperties": false,
              "properties": {
                "path": {
                  "title": "Path",
                  "type": "string"
                },
                "protocol": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "default": null,
                  "title": "Protocol"
                },
                "storage_options": {
                  "additionalProperties": true,
                  "title": "Storage Options",
                  "type": "object"
                }
              },
              "required": [
                "path"
              ],
              "type": "object"
            }
          ],
          "description": "URL or path to the OpenAPI specification document.",
          "title": "Spec"
        },
        "base_url": {
          "anyOf": [
            {
              "format": "uri",
              "maxLength": 2083,
              "minLength": 1,
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Optional base URL for API requests, overrides the one in spec.",
          "title": "Base Url"
        }
      },
      "required": [
        "spec"
      ],
      "title": "OpenAPIToolsetConfig",
      "type": "object"
    },
    "OrCondition": {
      "additionalProperties": false,
      "description": "Require any condition to be met.",
      "properties": {
        "type": {
          "const": "or",
          "default": "or",
          "description": "Condition to OR-combine multiple conditions.",
          "title": "Type",
          "type": "string"
        },
        "name": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Optional name for the condition for referencing.",
          "title": "Name"
        },
        "conditions": {
          "description": "List of conditions to check.",
          "items": {
            "$ref": "#/$defs/ConnectionCondition"
          },
          "title": "Conditions",
          "type": "array"
        }
      },
      "required": [
        "conditions"
      ],
      "title": "OrCondition",
      "type": "object"
    },
    "PlainConverterConfig": {
      "additionalProperties": false,
      "description": "Configuration for plain text fallback converter.",
      "properties": {
        "type": {
          "const": "plain",
          "default": "plain",
          "description": "Type discriminator for plain text converter.",
          "title": "Type",
          "type": "string"
        },
        "enabled": {
          "default": true,
          "description": "Whether this converter is currently active.",
          "title": "Enabled",
          "type": "boolean"
        },
        "force": {
          "default": false,
          "description": "Whether to attempt converting any file type.",
          "title": "Force",
          "type": "boolean"
        }
      },
      "title": "PlainConverterConfig",
      "type": "object"
    },
    "PrePostPromptConfig": {
      "additionalProperties": false,
      "description": "Configuration for pre/post prompts.",
      "properties": {
        "text": {
          "description": "The prompt text to be applied.",
          "title": "Text",
          "type": "string"
        },
        "model": {
          "description": "The model to use for processing the prompt.",
          "title": "Model",
          "type": "string"
        }
      },
      "required": [
        "text",
        "model"
      ],
      "title": "PrePostPromptConfig",
      "type": "object"
    },
    "ProcessManagementToolsetConfig": {
      "additionalProperties": false,
      "description": "Configuration for process management toolset.",
      "properties": {
        "namespace": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Optional namespace prefix for tool names",
          "title": "Namespace"
        },
        "type": {
          "const": "process_management",
          "default": "process_management",
          "description": "Process management toolset.",
          "title": "Type",
          "type": "string"
        }
      },
      "title": "ProcessManagementToolsetConfig",
      "type": "object"
    },
    "PromptLayerConfig": {
      "additionalProperties": false,
      "description": "Configuration for PromptLayer prompt provider.",
      "properties": {
        "type": {
          "const": "promptlayer",
          "default": "promptlayer",
          "description": "Configuration for PromptLayer prompt provider.",
          "title": "Type",
          "type": "string"
        },
        "api_key": {
          "description": "API key for the PromptLayer API.",
          "format": "password",
          "title": "Api Key",
          "type": "string",
          "writeOnly": true
        }
      },
      "required": [
        "api_key"
      ],
      "title": "PromptLayerConfig",
      "type": "object"
    },
    "PromptLibraryConfig": {
      "additionalProperties": false,
      "description": "Complete prompt configuration.",
      "properties": {
        "system_prompts": {
          "additionalProperties": {
            "$ref": "#/$defs/StaticPromptConfig"
          },
          "description": "Mapping of system prompt identifiers to their definitions.",
          "title": "System Prompts",
          "type": "object"
        },
        "template": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Optional template for combining prompts.\nHas access to prompts grouped by type.",
          "title": "Template"
        },
        "providers": {
          "description": "List of external prompt providers to use.",
          "items": {
            "discriminator": {
              "mapping": {
                "braintrust": "#/$defs/BraintrustConfig",
                "fabric": "#/$defs/FabricConfig",
                "langfuse": "#/$defs/LangfuseConfig",
                "promptlayer": "#/$defs/PromptLayerConfig"
              },
              "propertyName": "type"
            },
            "oneOf": [
              {
                "$ref": "#/$defs/PromptLayerConfig"
              },
              {
                "$ref": "#/$defs/LangfuseConfig"
              },
              {
                "$ref": "#/$defs/FabricConfig"
              },
              {
                "$ref": "#/$defs/BraintrustConfig"
              }
            ]
          },
          "title": "Providers",
          "type": "array"
        }
      },
      "title": "PromptLibraryConfig",
      "type": "object"
    },
    "PromptMessage": {
      "additionalProperties": false,
      "description": "A message in a prompt template.",
      "properties": {
        "role": {
          "enum": [
            "system",
            "user",
            "assistant",
            "tool"
          ],
          "title": "Role",
          "type": "string"
        },
        "content": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "$ref": "#/$defs/MessageContent"
            },
            {
              "items": {
                "$ref": "#/$defs/MessageContent"
              },
              "type": "array"
            }
          ],
          "default": "",
          "title": "Content"
        }
      },
      "required": [
        "role"
      ],
      "title": "PromptMessage",
      "type": "object"
    },
    "PromptParameter": {
      "additionalProperties": false,
      "description": "Prompt argument with validation information.",
      "properties": {
        "name": {
          "description": "Name of the argument as used in the prompt.",
          "title": "Name",
          "type": "string"
        },
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Human-readable description of the argument.",
          "title": "Description"
        },
        "required": {
          "default": false,
          "description": "Whether this argument must be provided when formatting the prompt.",
          "title": "Required",
          "type": "boolean"
        },
        "default": {
          "anyOf": [
            {},
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Default value if argument is optional.",
          "title": "Default"
        },
        "completion_function": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Optional function to provide argument completions.",
          "title": "Completion Function"
        }
      },
      "required": [
        "name"
      ],
      "title": "PromptParameter",
      "type": "object"
    },
    "RemoteCodeModeToolsetConfig": {
      "additionalProperties": false,
      "description": "Configuration for code mode tools.",
      "properties": {
        "namespace": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Optional namespace prefix for tool names",
          "title": "Namespace"
        },
        "type": {
          "const": "remote_code_mode",
          "default": "remote_code_mode",
          "description": "Code mode toolset.",
          "title": "Type",
          "type": "string"
        },
        "environment": {
          "description": "Execution environment configuration.",
          "discriminator": {
            "mapping": {
              "beam": "#/$defs/BeamExecutionEnvironmentConfig",
              "daytona": "#/$defs/DaytonaExecutionEnvironmentConfig",
              "docker": "#/$defs/DockerExecutionEnvironmentConfig",
              "e2b": "#/$defs/E2bExecutionEnvironmentConfig",
              "local": "#/$defs/LocalExecutionEnvironmentConfig",
              "mcp_python": "#/$defs/McpPythonExecutionEnvironmentConfig"
            },
            "propertyName": "type"
          },
          "oneOf": [
            {
              "$ref": "#/$defs/LocalExecutionEnvironmentConfig"
            },
            {
              "$ref": "#/$defs/DockerExecutionEnvironmentConfig"
            },
            {
              "$ref": "#/$defs/E2bExecutionEnvironmentConfig"
            },
            {
              "$ref": "#/$defs/BeamExecutionEnvironmentConfig"
            },
            {
              "$ref": "#/$defs/DaytonaExecutionEnvironmentConfig"
            },
            {
              "$ref": "#/$defs/McpPythonExecutionEnvironmentConfig"
            }
          ],
          "title": "Environment"
        },
        "toolsets": {
          "description": "List of toolsets to expose as a codemode toolset.",
          "items": {
            "discriminator": {
              "mapping": {
                "agent_management": "#/$defs/AgentManagementToolsetConfig",
                "code": "#/$defs/CodeToolsetConfig",
                "code_execution": "#/$defs/CodeExecutionToolsetConfig",
                "code_mode": "#/$defs/CodeModeToolsetConfig",
                "composio": "#/$defs/ComposioToolSetConfig",
                "custom": "#/$defs/CustomToolsetConfig",
                "entry_points": "#/$defs/EntryPointToolsetConfig",
                "file_access": "#/$defs/FileAccessToolsetConfig",
                "fsspec": "#/$defs/FSSpecToolsetConfig",
                "history": "#/$defs/HistoryToolsetConfig",
                "integrations": "#/$defs/IntegrationToolsetConfig",
                "openapi": "#/$defs/OpenAPIToolsetConfig",
                "process_management": "#/$defs/ProcessManagementToolsetConfig",
                "remote_code_mode": "#/$defs/RemoteCodeModeToolsetConfig",
                "tool_management": "#/$defs/ToolManagementToolsetConfig",
                "upsonic": "#/$defs/UpsonicToolSetConfig",
                "user_interaction": "#/$defs/UserInteractionToolsetConfig",
                "vfs": "#/$defs/VFSToolsetConfig"
              },
              "propertyName": "type"
            },
            "oneOf": [
              {
                "$ref": "#/$defs/OpenAPIToolsetConfig"
              },
              {
                "$ref": "#/$defs/EntryPointToolsetConfig"
              },
              {
                "$ref": "#/$defs/ComposioToolSetConfig"
              },
              {
                "$ref": "#/$defs/UpsonicToolSetConfig"
              },
              {
                "$ref": "#/$defs/AgentManagementToolsetConfig"
              },
              {
                "$ref": "#/$defs/FileAccessToolsetConfig"
              },
              {
                "$ref": "#/$defs/CodeExecutionToolsetConfig"
              },
              {
                "$ref": "#/$defs/ProcessManagementToolsetConfig"
              },
              {
                "$ref": "#/$defs/ToolManagementToolsetConfig"
              },
              {
                "$ref": "#/$defs/UserInteractionToolsetConfig"
              },
              {
                "$ref": "#/$defs/HistoryToolsetConfig"
              },
              {
                "$ref": "#/$defs/IntegrationToolsetConfig"
              },
              {
                "$ref": "#/$defs/CodeToolsetConfig"
              },
              {
                "$ref": "#/$defs/FSSpecToolsetConfig"
              },
              {
                "$ref": "#/$defs/VFSToolsetConfig"
              },
              {
                "$ref": "#/$defs/CodeModeToolsetConfig"
              },
              {
                "$ref": "#/$defs/RemoteCodeModeToolsetConfig"
              },
              {
                "$ref": "#/$defs/CustomToolsetConfig"
              }
            ]
          },
          "title": "Toolsets",
          "type": "array"
        }
      },
      "required": [
        "environment",
        "toolsets"
      ],
      "title": "RemoteCodeModeToolsetConfig",
      "type": "object"
    },
    "RemoteInputConfig": {
      "additionalProperties": false,
      "description": "Configuration for remote human input.",
      "properties": {
        "type": {
          "const": "remote-input",
          "default": "remote-input",
          "description": "Type identifier for remote input model.",
          "title": "Type",
          "type": "string"
        },
        "url": {
          "default": "ws://localhost:8000/v1/chat/stream",
          "description": "WebSocket URL for connecting to the remote input service.",
          "title": "Url",
          "type": "string"
        },
        "api_key": {
          "anyOf": [
            {
              "format": "password",
              "type": "string",
              "writeOnly": true
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Optional API key for authentication.",
          "title": "Api Key"
        }
      },
      "title": "RemoteInputConfig",
      "type": "object"
    },
    "RemoteProxyConfig": {
      "additionalProperties": false,
      "description": "Configuration for remote model proxy.",
      "properties": {
        "type": {
          "const": "remote-proxy",
          "default": "remote-proxy",
          "description": "Type identifier for remote proxy model.",
          "title": "Type",
          "type": "string"
        },
        "url": {
          "default": "ws://localhost:8000/v1/completion/stream",
          "description": "WebSocket URL for connecting to the remote model service.",
          "title": "Url",
          "type": "string"
        },
        "api_key": {
          "anyOf": [
            {
              "format": "password",
              "type": "string",
              "writeOnly": true
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Optional API key for authentication.",
          "title": "Api Key"
        }
      },
      "title": "RemoteProxyConfig",
      "type": "object"
    },
    "SQLStorageConfig": {
      "additionalProperties": false,
      "description": "SQL database storage configuration.",
      "properties": {
        "type": {
          "const": "sql",
          "default": "sql",
          "description": "SQLModel storage configuration.",
          "title": "Type",
          "type": "string"
        },
        "log_messages": {
          "default": true,
          "description": "Whether to log messages",
          "title": "Log Messages",
          "type": "boolean"
        },
        "agents": {
          "anyOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array",
              "uniqueItems": true
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Optional set of agent names to include. If None, logs all agents.",
          "title": "Agents"
        },
        "log_conversations": {
          "default": true,
          "description": "Whether to log conversations",
          "title": "Log Conversations",
          "type": "boolean"
        },
        "log_commands": {
          "default": true,
          "description": "Whether to log command executions",
          "title": "Log Commands",
          "type": "boolean"
        },
        "log_context": {
          "default": true,
          "description": "Whether to log context messages.",
          "title": "Log Context",
          "type": "boolean"
        },
        "url": {
          "description": "Database URL (e.g. sqlite:///history.db)",
          "title": "Url",
          "type": "string"
        },
        "pool_size": {
          "default": 5,
          "description": "Connection pool size",
          "minimum": 1,
          "title": "Pool Size",
          "type": "integer"
        },
        "auto_migration": {
          "default": true,
          "description": "Whether to automatically add missing columns",
          "title": "Auto Migration",
          "type": "boolean"
        }
      },
      "title": "SQLStorageConfig",
      "type": "object"
    },
    "SSEMCPServerConfig": {
      "additionalProperties": false,
      "description": "MCP server using Server-Sent Events transport.\n\nConnects to a server over HTTP with SSE for real-time communication.",
      "properties": {
        "type": {
          "const": "sse",
          "default": "sse",
          "description": "SSE server configuration.",
          "title": "Type",
          "type": "string"
        },
        "name": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Optional name for referencing the server.",
          "title": "Name"
        },
        "enabled": {
          "default": true,
          "description": "Whether this server is currently enabled.",
          "title": "Enabled",
          "type": "boolean"
        },
        "env": {
          "anyOf": [
            {
              "additionalProperties": {
                "type": "string"
              },
              "type": "object"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Environment variables to pass to the server process.",
          "title": "Env"
        },
        "timeout": {
          "default": 60.0,
          "description": "Timeout for the server process in seconds.",
          "exclusiveMinimum": 0,
          "title": "Timeout",
          "type": "number"
        },
        "url": {
          "description": "URL of the SSE server endpoint.",
          "format": "uri",
          "maxLength": 2083,
          "minLength": 1,
          "title": "Url",
          "type": "string"
        },
        "headers": {
          "anyOf": [
            {
              "additionalProperties": {
                "type": "string"
              },
              "type": "object"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Headers to send with the SSE request.",
          "title": "Headers"
        },
        "auth": {
          "$ref": "#/$defs/MCPServerAuthSettings",
          "description": "OAuth settings for the SSE server."
        }
      },
      "required": [
        "url"
      ],
      "title": "SSEMCPServerConfig",
      "type": "object"
    },
    "SchemaField": {
      "additionalProperties": false,
      "description": "Field definition for inline response types.\n\nDefines a single field in an inline response definition, including:\n- Data type specification\n- Optional description\n- Validation constraints\n- Enum values (when type is 'enum')\n- Field dependencies and relationships\n\nUsed by InlineSchemaDef to structure response fields.",
      "properties": {
        "type": {
          "description": "Data type of the response field",
          "title": "Type",
          "type": "string"
        },
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Optional description of what this field represents",
          "title": "Description"
        },
        "values": {
          "anyOf": [
            {
              "items": {},
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Values for enum type fields",
          "title": "Values"
        },
        "default": {
          "anyOf": [
            {},
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Default value for the field",
          "title": "Default"
        },
        "title": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Title for the field in generated JSON Schema",
          "title": "Title"
        },
        "pattern": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Regex pattern for string validation",
          "title": "Pattern"
        },
        "min_length": {
          "anyOf": [
            {
              "minimum": 0,
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Minimum length for collections",
          "title": "Min Length"
        },
        "max_length": {
          "anyOf": [
            {
              "minimum": 0,
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Maximum length for collections",
          "title": "Max Length"
        },
        "gt": {
          "anyOf": [
            {
              "type": "number"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Greater than (exclusive) validation for numbers",
          "title": "Gt"
        },
        "ge": {
          "anyOf": [
            {
              "type": "number"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Greater than or equal (inclusive) validation for numbers",
          "title": "Ge"
        },
        "lt": {
          "anyOf": [
            {
              "type": "number"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Less than (exclusive) validation for numbers",
          "title": "Lt"
        },
        "le": {
          "anyOf": [
            {
              "type": "number"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Less than or equal (inclusive) validation for numbers",
          "title": "Le"
        },
        "multiple_of": {
          "anyOf": [
            {
              "exclusiveMinimum": 0,
              "type": "number"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Number must be a multiple of this value",
          "title": "Multiple Of"
        },
        "literal_value": {
          "anyOf": [
            {},
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Value for Literal type constraint, makes field accept only this specific value",
          "title": "Literal Value"
        },
        "examples": {
          "anyOf": [
            {
              "items": {},
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Examples for this field in JSON Schema",
          "title": "Examples"
        },
        "optional": {
          "default": false,
          "description": "Whether this field is optional (None value allowed)",
          "title": "Optional",
          "type": "boolean"
        },
        "json_schema_extra": {
          "anyOf": [
            {
              "additionalProperties": true,
              "type": "object"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Additional JSON Schema information",
          "title": "Json Schema Extra"
        },
        "field_config": {
          "anyOf": [
            {
              "additionalProperties": true,
              "type": "object"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Configuration for Pydantic model fields",
          "title": "Field Config"
        },
        "dependent_required": {
          "additionalProperties": {
            "items": {
              "type": "string"
            },
            "type": "array"
          },
          "description": "Field dependencies - when this field exists, dependent fields are required",
          "title": "Dependent Required",
          "type": "object"
        },
        "dependent_schema": {
          "additionalProperties": {
            "additionalProperties": true,
            "type": "object"
          },
          "description": "Schema dependencies - when this field exists, dependent fields must match schema",
          "title": "Dependent Schema",
          "type": "object"
        },
        "constraints": {
          "additionalProperties": true,
          "description": "Additional constraints not covered by explicit fields",
          "title": "Constraints",
          "type": "object"
        }
      },
      "required": [
        "type"
      ],
      "title": "SchemaField",
      "type": "object"
    },
    "SessionQuery": {
      "additionalProperties": false,
      "description": "Query configuration for session recovery.",
      "properties": {
        "name": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Session identifier to match.",
          "title": "Name"
        },
        "agents": {
          "anyOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array",
              "uniqueItems": true
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Filter by agent names.",
          "title": "Agents"
        },
        "since": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Time period to look back (e.g. \"1h\", \"2d\").",
          "title": "Since"
        },
        "until": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Time period to look up to.",
          "title": "Until"
        },
        "contains": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Filter by message content.",
          "title": "Contains"
        },
        "roles": {
          "anyOf": [
            {
              "items": {
                "enum": [
                  "user",
                  "assistant"
                ],
                "type": "string"
              },
              "type": "array",
              "uniqueItems": true
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Only include specific message roles.",
          "title": "Roles"
        },
        "limit": {
          "anyOf": [
            {
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Maximum number of messages to return.",
          "title": "Limit"
        },
        "include_forwarded": {
          "default": true,
          "description": "Whether to include messages forwarded through agents.",
          "title": "Include Forwarded",
          "type": "boolean"
        }
      },
      "title": "SessionQuery",
      "type": "object"
    },
    "SourceResourceConfig": {
      "additionalProperties": false,
      "description": "Configuration for a single filesystem source.",
      "properties": {
        "type": {
          "const": "source",
          "default": "source",
          "description": "Direct filesystem source.",
          "title": "Type",
          "type": "string"
        },
        "path": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Optional path prefix within the filesystem.",
          "title": "Path"
        },
        "cached": {
          "default": false,
          "description": "Whether to wrap in caching filesystem.",
          "title": "Cached",
          "type": "boolean"
        },
        "storage_options": {
          "additionalProperties": true,
          "description": "Protocol-specific storage options.",
          "title": "Storage Options",
          "type": "object"
        },
        "uri": {
          "description": "URI defining the resource location and protocol.",
          "title": "Uri",
          "type": "string"
        }
      },
      "required": [
        "uri"
      ],
      "title": "SourceResourceConfig",
      "type": "object"
    },
    "StaticCommandConfig": {
      "additionalProperties": false,
      "description": "Static command with inline content.",
      "properties": {
        "type": {
          "const": "static",
          "default": "static",
          "description": "Static command configuration.",
          "title": "Type",
          "type": "string"
        },
        "name": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Command name (optional, can be inferred from key).",
          "title": "Name"
        },
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Optional description of what this command does.",
          "title": "Description"
        },
        "content": {
          "description": "The prompt template content. Supports ${env.VAR} substitution.",
          "title": "Content",
          "type": "string"
        }
      },
      "required": [
        "content"
      ],
      "title": "StaticCommandConfig",
      "type": "object"
    },
    "StaticPrompt": {
      "additionalProperties": false,
      "description": "Static prompt defined by message list.",
      "properties": {
        "name": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Technical identifier (automatically set from config key during registration).",
          "title": "Name"
        },
        "description": {
          "description": "Human-readable description of what this prompt does.",
          "title": "Description",
          "type": "string"
        },
        "title": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Title of the prompt.",
          "title": "Title"
        },
        "metadata": {
          "additionalProperties": true,
          "description": "Additional metadata for storing custom prompt information.",
          "title": "Metadata",
          "type": "object"
        },
        "messages": {
          "description": "List of messages that make up this prompt.",
          "items": {
            "$ref": "#/$defs/PromptMessage"
          },
          "title": "Messages",
          "type": "array"
        },
        "type": {
          "const": "text",
          "default": "text",
          "description": "Discriminator field identifying this as a static text prompt.",
          "title": "Type",
          "type": "string"
        },
        "arguments": {
          "description": "List of arguments that this prompt accepts.",
          "items": {
            "$ref": "#/$defs/PromptParameter"
          },
          "title": "Arguments",
          "type": "array"
        }
      },
      "required": [
        "description",
        "messages"
      ],
      "title": "StaticPrompt",
      "type": "object"
    },
    "StaticPromptConfig": {
      "additionalProperties": false,
      "description": "Configuration for a static text prompt.",
      "properties": {
        "content": {
          "description": "The prompt text content.",
          "title": "Content",
          "type": "string"
        },
        "category": {
          "default": "role",
          "description": "Categorization for template organization.",
          "enum": [
            "role",
            "methodology",
            "quality",
            "task"
          ],
          "title": "Category",
          "type": "string"
        },
        "type": {
          "const": "static",
          "default": "static",
          "description": "Static prompt reference.",
          "title": "Type",
          "type": "string"
        }
      },
      "required": [
        "content"
      ],
      "title": "StaticPromptConfig",
      "type": "object"
    },
    "StdioMCPServerConfig": {
      "additionalProperties": false,
      "description": "MCP server started via stdio.\n\nUses subprocess communication through standard input/output streams.",
      "properties": {
        "type": {
          "const": "stdio",
          "default": "stdio",
          "description": "Stdio server coniguration.",
          "title": "Type",
          "type": "string"
        },
        "name": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Optional name for referencing the server.",
          "title": "Name"
        },
        "enabled": {
          "default": true,
          "description": "Whether this server is currently enabled.",
          "title": "Enabled",
          "type": "boolean"
        },
        "env": {
          "anyOf": [
            {
              "additionalProperties": {
                "type": "string"
              },
              "type": "object"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Environment variables to pass to the server process.",
          "title": "Env"
        },
        "timeout": {
          "default": 60.0,
          "description": "Timeout for the server process in seconds.",
          "exclusiveMinimum": 0,
          "title": "Timeout",
          "type": "number"
        },
        "command": {
          "description": "Command to execute (e.g. \"pipx\", \"python\", \"node\").",
          "title": "Command",
          "type": "string"
        },
        "args": {
          "description": "Command arguments (e.g. [\"run\", \"some-server\", \"--debug\"]).",
          "items": {
            "type": "string"
          },
          "title": "Args",
          "type": "array"
        }
      },
      "required": [
        "command"
      ],
      "title": "StdioMCPServerConfig",
      "type": "object"
    },
    "StorageConfig": {
      "additionalProperties": false,
      "description": "Global storage configuration.",
      "properties": {
        "providers": {
          "anyOf": [
            {
              "items": {
                "discriminator": {
                  "mapping": {
                    "file": "#/$defs/FileStorageConfig",
                    "memory": "#/$defs/MemoryStorageConfig",
                    "sql": "#/$defs/SQLStorageConfig",
                    "text_file": "#/$defs/TextLogConfig"
                  },
                  "propertyName": "type"
                },
                "oneOf": [
                  {
                    "$ref": "#/$defs/SQLStorageConfig"
                  },
                  {
                    "$ref": "#/$defs/FileStorageConfig"
                  },
                  {
                    "$ref": "#/$defs/TextLogConfig"
                  },
                  {
                    "$ref": "#/$defs/MemoryStorageConfig"
                  }
                ]
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "List of configured storage providers",
          "title": "Providers"
        },
        "default_provider": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Name of default provider for history queries.\nIf None, uses first configured provider.",
          "title": "Default Provider"
        },
        "agents": {
          "anyOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array",
              "uniqueItems": true
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Global agent filter. Can be overridden by provider-specific filters.",
          "title": "Agents"
        },
        "filter_mode": {
          "default": "and",
          "description": "How to combine global and provider agent filters:\n- \"and\": Both global and provider filters must allow the agent\n- \"override\": Provider filter overrides global filter if set",
          "enum": [
            "and",
            "override"
          ],
          "title": "Filter Mode",
          "type": "string"
        },
        "log_messages": {
          "default": true,
          "description": "Whether to log messages.",
          "title": "Log Messages",
          "type": "boolean"
        },
        "log_conversations": {
          "default": true,
          "description": "Whether to log conversations.",
          "title": "Log Conversations",
          "type": "boolean"
        },
        "log_commands": {
          "default": true,
          "description": "Whether to log command executions.",
          "title": "Log Commands",
          "type": "boolean"
        },
        "log_context": {
          "default": true,
          "description": "Whether to log additions to the context.",
          "title": "Log Context",
          "type": "boolean"
        },
        "title_generation_model": {
          "default": "openai:gpt-5-nano",
          "description": "Whether to log command executions.",
          "title": "Title Generation Model",
          "type": "string"
        },
        "title_generation_prompt": {
          "default": "Create a short & consise title for this message. Only answer with that title.\n",
          "description": "Whether to log additions to the context.",
          "title": "Title Generation Prompt",
          "type": "string"
        }
      },
      "title": "StorageConfig",
      "type": "object"
    },
    "StreamableHTTPMCPServerConfig": {
      "additionalProperties": false,
      "description": "MCP server using StreamableHttp.\n\nConnects to a server over HTTP with streamable HTTP.",
      "properties": {
        "type": {
          "const": "streamable-http",
          "default": "streamable-http",
          "description": "HTTP server configuration.",
          "title": "Type",
          "type": "string"
        },
        "name": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Optional name for referencing the server.",
          "title": "Name"
        },
        "enabled": {
          "default": true,
          "description": "Whether this server is currently enabled.",
          "title": "Enabled",
          "type": "boolean"
        },
        "env": {
          "anyOf": [
            {
              "additionalProperties": {
                "type": "string"
              },
              "type": "object"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Environment variables to pass to the server process.",
          "title": "Env"
        },
        "timeout": {
          "default": 60.0,
          "description": "Timeout for the server process in seconds.",
          "exclusiveMinimum": 0,
          "title": "Timeout",
          "type": "number"
        },
        "url": {
          "description": "URL of the HTTP server endpoint.",
          "format": "uri",
          "maxLength": 2083,
          "minLength": 1,
          "title": "Url",
          "type": "string"
        },
        "headers": {
          "anyOf": [
            {
              "additionalProperties": {
                "type": "string"
              },
              "type": "object"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Headers to send with the HTTP request.",
          "title": "Headers"
        },
        "auth": {
          "$ref": "#/$defs/MCPServerAuthSettings",
          "description": "OAuth settings for the HTTP server."
        }
      },
      "required": [
        "url"
      ],
      "title": "StreamableHTTPMCPServerConfig",
      "type": "object"
    },
    "StringModelConfig": {
      "additionalProperties": false,
      "description": "Configuration for string-based model references.",
      "properties": {
        "type": {
          "const": "string",
          "default": "string",
          "description": "Type identifier for string model.",
          "title": "Type",
          "type": "string"
        },
        "identifier": {
          "description": "String identifier for the model.",
          "title": "Identifier",
          "type": "string"
        }
      },
      "required": [
        "identifier"
      ],
      "title": "StringModelConfig",
      "type": "object"
    },
    "StructuredResponseConfig": {
      "additionalProperties": false,
      "description": "Base class for response definitions.",
      "properties": {
        "response_schema": {
          "description": "A model describing the response schema. ",
          "discriminator": {
            "mapping": {
              "import": "#/$defs/ImportedSchemaDef",
              "inline": "#/$defs/InlineSchemaDef"
            },
            "propertyName": "type"
          },
          "oneOf": [
            {
              "$ref": "#/$defs/InlineSchemaDef"
            },
            {
              "$ref": "#/$defs/ImportedSchemaDef"
            }
          ],
          "title": "Response Schema"
        },
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "A description for this response definition.",
          "title": "Description"
        },
        "result_tool_name": {
          "default": "final_result",
          "description": "The tool name for the Agent tool to create the structured response.",
          "title": "Result Tool Name",
          "type": "string"
        },
        "result_tool_description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "The tool description for the Agent tool to create the structured response.",
          "title": "Result Tool Description"
        },
        "output_retries": {
          "anyOf": [
            {
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Retry override. How often the Agent should try to validate the response.",
          "title": "Output Retries"
        }
      },
      "required": [
        "response_schema"
      ],
      "title": "StructuredResponseConfig",
      "type": "object"
    },
    "TeamConfig": {
      "additionalProperties": false,
      "description": "Configuration for a team or chain of message nodes.\n\nTeams can be either parallel execution groups or sequential chains.\nThey can contain both agents and other teams as members.",
      "properties": {
        "name": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Name of the Agent / Team",
          "title": "Name"
        },
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Optional description of the agent / team.",
          "title": "Description"
        },
        "triggers": {
          "description": "Event sources that activate this agent / team",
          "items": {
            "discriminator": {
              "mapping": {
                "email": "#/$defs/EmailConfig",
                "file": "#/$defs/FileWatchConfig",
                "time": "#/$defs/TimeEventConfig",
                "webhook": "#/$defs/WebhookConfig"
              },
              "propertyName": "type"
            },
            "oneOf": [
              {
                "$ref": "#/$defs/FileWatchConfig"
              },
              {
                "$ref": "#/$defs/WebhookConfig"
              },
              {
                "$ref": "#/$defs/EmailConfig"
              },
              {
                "$ref": "#/$defs/TimeEventConfig"
              }
            ]
          },
          "title": "Triggers",
          "type": "array"
        },
        "connections": {
          "description": "Targets to forward results to.",
          "items": {
            "discriminator": {
              "mapping": {
                "callable": "#/$defs/CallableConnectionConfig",
                "file": "#/$defs/FileConnectionConfig",
                "node": "#/$defs/NodeConnectionConfig"
              },
              "propertyName": "type"
            },
            "oneOf": [
              {
                "$ref": "#/$defs/NodeConnectionConfig"
              },
              {
                "$ref": "#/$defs/FileConnectionConfig"
              },
              {
                "$ref": "#/$defs/CallableConnectionConfig"
              }
            ]
          },
          "title": "Connections",
          "type": "array"
        },
        "mcp_servers": {
          "description": "List of MCP server configurations:\n- str entries are converted to StdioMCPServerConfig\n- MCPServerConfig for full server configuration",
          "items": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "discriminator": {
                  "mapping": {
                    "sse": "#/$defs/SSEMCPServerConfig",
                    "stdio": "#/$defs/StdioMCPServerConfig",
                    "streamable-http": "#/$defs/StreamableHTTPMCPServerConfig"
                  },
                  "propertyName": "type"
                },
                "oneOf": [
                  {
                    "$ref": "#/$defs/StdioMCPServerConfig"
                  },
                  {
                    "$ref": "#/$defs/SSEMCPServerConfig"
                  },
                  {
                    "$ref": "#/$defs/StreamableHTTPMCPServerConfig"
                  }
                ]
              }
            ]
          },
          "title": "Mcp Servers",
          "type": "array"
        },
        "input_provider": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Provider for human-input-handling.",
          "title": "Input Provider"
        },
        "mode": {
          "description": "Execution mode for team members.",
          "enum": [
            "parallel",
            "sequential"
          ],
          "title": "Mode",
          "type": "string"
        },
        "members": {
          "description": "Names of agents or other teams that are part of this team.",
          "items": {
            "type": "string"
          },
          "title": "Members",
          "type": "array"
        },
        "shared_prompt": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Optional shared prompt for this team.",
          "title": "Shared Prompt"
        }
      },
      "required": [
        "mode",
        "members"
      ],
      "title": "TeamConfig",
      "type": "object"
    },
    "TeamWorkerConfig": {
      "additionalProperties": false,
      "description": "Configuration for team workers.\n\nTeam workers allow using entire teams as tools for other nodes.",
      "properties": {
        "name": {
          "description": "Name of the node to use as a worker.",
          "title": "Name",
          "type": "string"
        },
        "type": {
          "const": "team",
          "default": "team",
          "description": "Team worker configuration.",
          "title": "Type",
          "type": "string"
        }
      },
      "required": [
        "name"
      ],
      "title": "TeamWorkerConfig",
      "type": "object"
    },
    "TestModelConfig": {
      "additionalProperties": false,
      "description": "Configuration for test models.",
      "properties": {
        "type": {
          "const": "test",
          "default": "test",
          "description": "Type identifier for test model.",
          "title": "Type",
          "type": "string"
        },
        "custom_output_text": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Optional custom text to return from the test model.",
          "title": "Custom Output Text"
        },
        "call_tools": {
          "anyOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "const": "all",
              "type": "string"
            }
          ],
          "default": "all",
          "description": "Tools that can be called by the test model.",
          "title": "Call Tools"
        }
      },
      "title": "TestModelConfig",
      "type": "object"
    },
    "TextLogConfig": {
      "additionalProperties": false,
      "description": "Text log configuration.",
      "properties": {
        "type": {
          "const": "text_file",
          "default": "text_file",
          "description": "Text log storage configuration.",
          "title": "Type",
          "type": "string"
        },
        "log_messages": {
          "default": true,
          "description": "Whether to log messages",
          "title": "Log Messages",
          "type": "boolean"
        },
        "agents": {
          "anyOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array",
              "uniqueItems": true
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Optional set of agent names to include. If None, logs all agents.",
          "title": "Agents"
        },
        "log_conversations": {
          "default": true,
          "description": "Whether to log conversations",
          "title": "Log Conversations",
          "type": "boolean"
        },
        "log_commands": {
          "default": true,
          "description": "Whether to log command executions",
          "title": "Log Commands",
          "type": "boolean"
        },
        "log_context": {
          "default": true,
          "description": "Whether to log context messages.",
          "title": "Log Context",
          "type": "boolean"
        },
        "path": {
          "description": "Path to log file",
          "title": "Path",
          "type": "string"
        },
        "format": {
          "default": "chronological",
          "description": "Log format template to use",
          "enum": [
            "chronological",
            "conversations"
          ],
          "title": "Format",
          "type": "string"
        },
        "template": {
          "anyOf": [
            {
              "enum": [
                "chronological",
                "conversations"
              ],
              "type": "string"
            },
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": "chronological",
          "description": "Template to use: either predefined name or path to custom template",
          "title": "Template"
        },
        "encoding": {
          "default": "utf-8",
          "description": "File encoding",
          "title": "Encoding",
          "type": "string"
        }
      },
      "required": [
        "path"
      ],
      "title": "TextLogConfig",
      "type": "object"
    },
    "TimeCondition": {
      "additionalProperties": false,
      "description": "Disconnect after time period.",
      "properties": {
        "type": {
          "const": "time",
          "default": "time",
          "description": "Time-based condition.",
          "title": "Type",
          "type": "string"
        },
        "name": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Optional name for the condition for referencing.",
          "title": "Name"
        },
        "duration": {
          "description": "How long the connection should stay active.",
          "format": "duration",
          "title": "Duration",
          "type": "string"
        }
      },
      "required": [
        "duration"
      ],
      "title": "TimeCondition",
      "type": "object"
    },
    "TimeEventConfig": {
      "additionalProperties": false,
      "description": "Time-based event source configuration.",
      "properties": {
        "type": {
          "const": "time",
          "default": "time",
          "description": "Time event.",
          "title": "Type",
          "type": "string"
        },
        "name": {
          "description": "Unique identifier for this event source.",
          "title": "Name",
          "type": "string"
        },
        "enabled": {
          "default": true,
          "description": "Whether this event source is active.",
          "title": "Enabled",
          "type": "boolean"
        },
        "template": {
          "default": "\n{%- if include_timestamp %}at {{ timestamp }}{% endif %}\nEvent from {{ source }}:\n{%- if include_metadata %}\nMetadata:\n{% for key, value in metadata.items() %}\n{{ key }}: {{ value }}\n{% endfor %}\n{% endif %}\n{{ content }}\n",
          "description": "Jinja2 template for formatting events.",
          "title": "Template",
          "type": "string"
        },
        "include_metadata": {
          "default": true,
          "description": "Control metadata visibility in template.",
          "title": "Include Metadata",
          "type": "boolean"
        },
        "include_timestamp": {
          "default": true,
          "description": "Control timestamp visibility in template.",
          "title": "Include Timestamp",
          "type": "boolean"
        },
        "schedule": {
          "description": "Cron expression for scheduling (e.g. '0 9 * * 1-5' for weekdays at 9am)",
          "title": "Schedule",
          "type": "string"
        },
        "prompt": {
          "description": "Prompt to send to the agent when the schedule triggers.",
          "title": "Prompt",
          "type": "string"
        },
        "timezone": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Timezone for schedule (defaults to system timezone)",
          "title": "Timezone"
        },
        "skip_missed": {
          "default": false,
          "description": "Whether to skip executions missed while agent was inactive",
          "title": "Skip Missed",
          "type": "boolean"
        }
      },
      "required": [
        "name",
        "schedule",
        "prompt"
      ],
      "title": "TimeEventConfig",
      "type": "object"
    },
    "TokenThresholdCondition": {
      "additionalProperties": false,
      "description": "Disconnect after token threshold is reached.",
      "properties": {
        "type": {
          "const": "token_threshold",
          "default": "token_threshold",
          "description": "Type discriminator.",
          "title": "Type",
          "type": "string"
        },
        "name": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Optional name for the condition for referencing.",
          "title": "Name"
        },
        "max_tokens": {
          "description": "Maximum number of tokens allowed.",
          "exclusiveMinimum": 0,
          "title": "Max Tokens",
          "type": "integer"
        },
        "count_type": {
          "default": "total",
          "description": "What tokens to count:\n- total: All tokens used\n- prompt: Only prompt tokens\n- completion: Only completion tokens",
          "enum": [
            "total",
            "prompt",
            "completion"
          ],
          "title": "Count Type",
          "type": "string"
        }
      },
      "required": [
        "max_tokens"
      ],
      "title": "TokenThresholdCondition",
      "type": "object"
    },
    "ToolHints": {
      "additionalProperties": false,
      "description": "Configuration for tool execution hints.",
      "properties": {
        "read_only": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Hints that this tool only reads data without modifying anything",
          "title": "Read Only"
        },
        "destructive": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Hints that this tool performs destructive operations that cannot be undone",
          "title": "Destructive"
        },
        "idempotent": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Hints that this tool has idempotent behaviour",
          "title": "Idempotent"
        },
        "open_world": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Hints that this tool can access / interact with external resources beyond the\ncurrent system",
          "title": "Open World"
        }
      },
      "title": "ToolHints",
      "type": "object"
    },
    "ToolManagementToolsetConfig": {
      "additionalProperties": false,
      "description": "Configuration for tool management toolset.",
      "properties": {
        "namespace": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Optional namespace prefix for tool names",
          "title": "Namespace"
        },
        "type": {
          "const": "tool_management",
          "default": "tool_management",
          "description": "Tool management toolset.",
          "title": "Type",
          "type": "string"
        }
      },
      "title": "ToolManagementToolsetConfig",
      "type": "object"
    },
    "UnionResourceConfig": {
      "additionalProperties": false,
      "description": "Configuration for combining multiple resources.",
      "properties": {
        "type": {
          "const": "union",
          "default": "union",
          "description": "Union of multiple resources.",
          "title": "Type",
          "type": "string"
        },
        "path": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Optional path prefix within the filesystem.",
          "title": "Path"
        },
        "cached": {
          "default": false,
          "description": "Whether to wrap in caching filesystem.",
          "title": "Cached",
          "type": "boolean"
        },
        "storage_options": {
          "additionalProperties": true,
          "description": "Protocol-specific storage options.",
          "title": "Storage Options",
          "type": "object"
        },
        "sources": {
          "description": "List of resources to combine.",
          "items": {
            "discriminator": {
              "mapping": {
                "source": "#/$defs/SourceResourceConfig",
                "union": "#/$defs/UnionResourceConfig"
              },
              "propertyName": "type"
            },
            "oneOf": [
              {
                "$ref": "#/$defs/SourceResourceConfig"
              },
              {
                "$ref": "#/$defs/UnionResourceConfig"
              }
            ]
          },
          "title": "Sources",
          "type": "array"
        }
      },
      "required": [
        "sources"
      ],
      "title": "UnionResourceConfig",
      "type": "object"
    },
    "UpsonicToolSetConfig": {
      "additionalProperties": false,
      "description": "Configuration for Upsonic toolsets.",
      "properties": {
        "namespace": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Optional namespace prefix for tool names",
          "title": "Namespace"
        },
        "type": {
          "const": "upsonic",
          "default": "upsonic",
          "description": "Upsonic Toolsets.",
          "title": "Type",
          "type": "string"
        },
        "base_url": {
          "anyOf": [
            {
              "format": "uri",
              "maxLength": 2083,
              "minLength": 1,
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Upsonic API URL.",
          "title": "Base Url"
        },
        "api_key": {
          "anyOf": [
            {
              "format": "password",
              "type": "string",
              "writeOnly": true
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Upsonic API Key.",
          "title": "Api Key"
        },
        "entity_id": {
          "default": "default",
          "description": "Toolset entity id.",
          "title": "Entity Id",
          "type": "string"
        }
      },
      "title": "UpsonicToolSetConfig",
      "type": "object"
    },
    "UsageLimits": {
      "properties": {
        "request_limit": {
          "anyOf": [
            {
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "default": 50,
          "description": "The maximum number of requests allowed to the model.",
          "title": "Request Limit"
        },
        "tool_calls_limit": {
          "anyOf": [
            {
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "The maximum number of successful tool calls allowed to be executed.",
          "title": "Tool Calls Limit"
        },
        "input_tokens_limit": {
          "anyOf": [
            {
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "The maximum number of input/prompt tokens allowed.",
          "title": "Input Tokens Limit"
        },
        "output_tokens_limit": {
          "anyOf": [
            {
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "The maximum number of output/response tokens allowed.",
          "title": "Output Tokens Limit"
        },
        "total_tokens_limit": {
          "anyOf": [
            {
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "The maximum number of tokens allowed in requests and responses combined.",
          "title": "Total Tokens Limit"
        },
        "count_tokens_before_request": {
          "default": false,
          "description": "If True, perform a token counting pass before sending the request to the model,\nto enforce `request_tokens_limit` ahead of time. This may incur additional overhead\n(from calling the model's `count_tokens` API before making the actual request) and is disabled by default.",
          "title": "Count Tokens Before Request",
          "type": "boolean"
        }
      },
      "title": "UsageLimits",
      "type": "object"
    },
    "UserInteractionToolsetConfig": {
      "additionalProperties": false,
      "description": "Configuration for user interaction toolset.",
      "properties": {
        "namespace": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Optional namespace prefix for tool names",
          "title": "Namespace"
        },
        "type": {
          "const": "user_interaction",
          "default": "user_interaction",
          "description": "User interaction toolset.",
          "title": "Type",
          "type": "string"
        }
      },
      "title": "UserInteractionToolsetConfig",
      "type": "object"
    },
    "UserSelectModelConfig": {
      "additionalProperties": false,
      "description": "Configuration for interactive model selection.",
      "properties": {
        "type": {
          "const": "user-select",
          "default": "user-select",
          "description": "Type identifier for user-select model.",
          "title": "Type",
          "type": "string"
        },
        "models": {
          "description": "List of models the user can choose from.",
          "items": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "$ref": "#/$defs/BaseModelConfig"
              }
            ]
          },
          "minItems": 1,
          "title": "Models",
          "type": "array"
        },
        "prompt_template": {
          "default": "\ud83e\udd16 Choose a model for: {prompt}",
          "description": "Template for displaying the choice prompt to the user.",
          "title": "Prompt Template",
          "type": "string"
        },
        "show_system": {
          "default": true,
          "description": "Whether to show system messages during selection.",
          "title": "Show System",
          "type": "boolean"
        },
        "input_prompt": {
          "default": "Enter model number (0-{max}): ",
          "description": "Text displayed when requesting model selection.",
          "title": "Input Prompt",
          "type": "string"
        },
        "handler": {
          "default": "llmling_models:DefaultInputHandler",
          "description": "Handler for processing user selection input.",
          "title": "Handler",
          "type": "string"
        }
      },
      "required": [
        "models"
      ],
      "title": "UserSelectModelConfig",
      "type": "object"
    },
    "VFSToolsetConfig": {
      "additionalProperties": false,
      "description": "Configuration for VFS registry filesystem toolset.",
      "properties": {
        "namespace": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Optional namespace prefix for tool names",
          "title": "Namespace"
        },
        "type": {
          "const": "vfs",
          "default": "vfs",
          "description": "VFS registry filesystem toolset.",
          "title": "Type",
          "type": "string"
        }
      },
      "title": "VFSToolsetConfig",
      "type": "object"
    },
    "WebhookConfig": {
      "additionalProperties": false,
      "description": "Webhook event source.",
      "properties": {
        "type": {
          "const": "webhook",
          "default": "webhook",
          "description": "webhook-based event.",
          "title": "Type",
          "type": "string"
        },
        "name": {
          "description": "Unique identifier for this event source.",
          "title": "Name",
          "type": "string"
        },
        "enabled": {
          "default": true,
          "description": "Whether this event source is active.",
          "title": "Enabled",
          "type": "boolean"
        },
        "template": {
          "default": "\n{%- if include_timestamp %}at {{ timestamp }}{% endif %}\nEvent from {{ source }}:\n{%- if include_metadata %}\nMetadata:\n{% for key, value in metadata.items() %}\n{{ key }}: {{ value }}\n{% endfor %}\n{% endif %}\n{{ content }}\n",
          "description": "Jinja2 template for formatting events.",
          "title": "Template",
          "type": "string"
        },
        "include_metadata": {
          "default": true,
          "description": "Control metadata visibility in template.",
          "title": "Include Metadata",
          "type": "boolean"
        },
        "include_timestamp": {
          "default": true,
          "description": "Control timestamp visibility in template.",
          "title": "Include Timestamp",
          "type": "boolean"
        },
        "port": {
          "description": "Port to listen on.",
          "maximum": 65535,
          "minimum": 1,
          "title": "Port",
          "type": "integer"
        },
        "path": {
          "description": "URL path to handle requests.",
          "title": "Path",
          "type": "string"
        },
        "secret": {
          "anyOf": [
            {
              "format": "password",
              "type": "string",
              "writeOnly": true
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Optional secret for request validation.",
          "title": "Secret"
        }
      },
      "required": [
        "name",
        "port",
        "path"
      ],
      "title": "WebhookConfig",
      "type": "object"
    },
    "WhisperAPIConfig": {
      "additionalProperties": false,
      "description": "Configuration for OpenAI's Whisper API.",
      "properties": {
        "type": {
          "const": "whisper_api",
          "default": "whisper_api",
          "description": "Type discriminator for converter config.",
          "title": "Type",
          "type": "string"
        },
        "enabled": {
          "default": true,
          "description": "Whether this converter is currently active.",
          "title": "Enabled",
          "type": "boolean"
        },
        "model": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Optional model name.",
          "title": "Model"
        },
        "api_key": {
          "anyOf": [
            {
              "format": "password",
              "type": "string",
              "writeOnly": true
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "OpenAI API key.",
          "title": "Api Key"
        },
        "language": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Optional language code.",
          "title": "Language"
        }
      },
      "title": "WhisperAPIConfig",
      "type": "object"
    },
    "WordMatchCondition": {
      "additionalProperties": false,
      "description": "Disconnect when word/phrase is found in message.",
      "properties": {
        "type": {
          "const": "word_match",
          "default": "word_match",
          "description": "Word-comparison-based condition.",
          "title": "Type",
          "type": "string"
        },
        "name": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Optional name for the condition for referencing.",
          "title": "Name"
        },
        "words": {
          "description": "Words or phrases to match in messages.",
          "items": {
            "type": "string"
          },
          "title": "Words",
          "type": "array"
        },
        "case_sensitive": {
          "default": false,
          "description": "Whether to match case-sensitively.",
          "title": "Case Sensitive",
          "type": "boolean"
        },
        "mode": {
          "default": "any",
          "description": "Match mode:\n- any: Trigger if any word matches\n- all: Require all words to match",
          "enum": [
            "any",
            "all"
          ],
          "title": "Mode",
          "type": "string"
        }
      },
      "required": [
        "words"
      ],
      "title": "WordMatchCondition",
      "type": "object"
    },
    "YouTubeConverterConfig": {
      "additionalProperties": false,
      "description": "Configuration for YouTube transcript converter.",
      "properties": {
        "type": {
          "const": "youtube",
          "default": "youtube",
          "description": "Type discriminator for converter config.",
          "title": "Type",
          "type": "string"
        },
        "enabled": {
          "default": true,
          "description": "Whether this converter is currently active.",
          "title": "Enabled",
          "type": "boolean"
        },
        "languages": {
          "description": "Preferred language codes in priority order. Defaults to ['en'].",
          "items": {
            "type": "string"
          },
          "title": "Languages",
          "type": "array"
        },
        "format": {
          "default": "text",
          "description": "Output format. One of: text, json, vtt, srt.",
          "enum": [
            "text",
            "json",
            "vtt",
            "srt"
          ],
          "title": "Format",
          "type": "string"
        },
        "preserve_formatting": {
          "default": false,
          "description": "Whether to keep HTML formatting elements like <i> and <b>.",
          "title": "Preserve Formatting",
          "type": "boolean"
        },
        "cookies_path": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Optional path to cookies file for age-restricted videos.",
          "title": "Cookies Path"
        },
        "https_proxy": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Optional HTTPS proxy URL (format: https://user:pass@domain:port).",
          "title": "Https Proxy"
        },
        "max_retries": {
          "default": 3,
          "description": "Maximum number of retries for failed requests.",
          "minimum": 0,
          "title": "Max Retries",
          "type": "integer"
        },
        "timeout": {
          "default": 30,
          "description": "Request timeout in seconds.",
          "exclusiveMinimum": 0,
          "title": "Timeout",
          "type": "integer"
        }
      },
      "title": "YouTubeConverterConfig",
      "type": "object"
    }
  },
  "additionalProperties": false,
  "description": "Complete agent configuration manifest defining all available agents.\n\nThis is the root configuration that:\n- Defines available response types (both inline and imported)\n- Configures all agent instances and their settings\n- Sets up custom role definitions and capabilities\n- Manages environment configurations\n\nA single manifest can define multiple agents that can work independently\nor collaborate through the orchestrator.",
  "properties": {
    "INHERIT": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "items": {
            "type": "string"
          },
          "type": "array"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "description": "Inheritance references.",
      "title": "Inherit"
    },
    "resources": {
      "additionalProperties": {
        "anyOf": [
          {
            "discriminator": {
              "mapping": {
                "source": "#/$defs/SourceResourceConfig",
                "union": "#/$defs/UnionResourceConfig"
              },
              "propertyName": "type"
            },
            "oneOf": [
              {
                "$ref": "#/$defs/SourceResourceConfig"
              },
              {
                "$ref": "#/$defs/UnionResourceConfig"
              }
            ]
          },
          {
            "type": "string"
          }
        ]
      },
      "description": "Resource configurations defining available filesystems.\n\nSupports both full config and URI shorthand:\n    resources:\n      docs: \"file://./docs\"  # shorthand\n      data:  # full config\n        type: \"source\"\n        uri: \"s3://bucket/data\"\n        cached: true",
      "title": "Resources",
      "type": "object"
    },
    "agents": {
      "additionalProperties": {
        "$ref": "#/$defs/AgentConfig"
      },
      "description": "Mapping of agent IDs to their configurations",
      "title": "Agents",
      "type": "object"
    },
    "teams": {
      "additionalProperties": {
        "$ref": "#/$defs/TeamConfig"
      },
      "description": "Mapping of team IDs to their configurations",
      "title": "Teams",
      "type": "object"
    },
    "storage": {
      "$ref": "#/$defs/StorageConfig",
      "description": "Storage provider configuration."
    },
    "observability": {
      "$ref": "#/$defs/ObservabilityConfig",
      "description": "Observability provider configuration."
    },
    "conversion": {
      "$ref": "#/$defs/ConversionConfig",
      "description": "Document conversion configuration."
    },
    "responses": {
      "additionalProperties": {
        "$ref": "#/$defs/StructuredResponseConfig"
      },
      "description": "Mapping of response names to their definitions",
      "title": "Responses",
      "type": "object"
    },
    "jobs": {
      "additionalProperties": {
        "$ref": "#/$defs/Job"
      },
      "description": "Pre-defined jobs, ready to be used by nodes.",
      "title": "Jobs",
      "type": "object"
    },
    "mcp_servers": {
      "description": "List of MCP server configurations:\n\nThese MCP servers are used to provide tools and other resources to the nodes.",
      "items": {
        "anyOf": [
          {
            "type": "string"
          },
          {
            "discriminator": {
              "mapping": {
                "sse": "#/$defs/SSEMCPServerConfig",
                "stdio": "#/$defs/StdioMCPServerConfig",
                "streamable-http": "#/$defs/StreamableHTTPMCPServerConfig"
              },
              "propertyName": "type"
            },
            "oneOf": [
              {
                "$ref": "#/$defs/StdioMCPServerConfig"
              },
              {
                "$ref": "#/$defs/SSEMCPServerConfig"
              },
              {
                "$ref": "#/$defs/StreamableHTTPMCPServerConfig"
              }
            ]
          }
        ]
      },
      "title": "Mcp Servers",
      "type": "array"
    },
    "pool_server": {
      "$ref": "#/$defs/MCPPoolServerConfig",
      "description": "Pool server configuration.\n\nThis MCP server configuration is used for the pool MCP server,\nwhich exposes pool functionality to other applications / clients."
    },
    "prompts": {
      "$ref": "#/$defs/PromptLibraryConfig"
    },
    "commands": {
      "additionalProperties": {
        "anyOf": [
          {
            "discriminator": {
              "mapping": {
                "callable": "#/$defs/CallableCommandConfig",
                "file": "#/$defs/FileCommandConfig",
                "static": "#/$defs/StaticCommandConfig"
              },
              "propertyName": "type"
            },
            "oneOf": [
              {
                "$ref": "#/$defs/StaticCommandConfig"
              },
              {
                "$ref": "#/$defs/FileCommandConfig"
              },
              {
                "$ref": "#/$defs/CallableCommandConfig"
              }
            ]
          },
          {
            "type": "string"
          }
        ]
      },
      "description": "Global command shortcuts for prompt injection.\n\nSupports both shorthand string syntax and full command configurations:\n    commands:\n      df: \"check disk space\"  # shorthand -> StaticCommandConfig\n      analyze:  # full config\n        type: file\n        path: \"./prompts/analysis.md\"",
      "title": "Commands",
      "type": "object"
    }
  },
  "title": "AgentsManifest",
  "type": "object"
}